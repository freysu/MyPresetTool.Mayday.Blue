/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n={795:function(e,t,n){!function(e,t,n,r){"use strict";var o=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},a=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},i=function(e,t){return{startTime:t,type:"setValue",value:e}},s=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},c=function(e,t,n){var r=n.startTime,o=n.target,a=n.timeConstant;return o+(t-o)*Math.exp((r-e)/a)},u=function(e){return"exponentialRampToValue"===e.type},l=function(e){return"linearRampToValue"===e.type},d=function(e){return u(e)||l(e)},h=function(e){return"setValue"===e.type},f=function(e){return"setValueCurve"===e.type},p=function(e,t,n,r){var o=e[t];return void 0===o?r:d(o)||h(o)?o.value:f(o)?o.values[o.values.length-1]:c(n,p(e,t-1,o.startTime,r),o)},m=function(e,t,n,r,o){return void 0===n?[r.insertTime,o]:d(n)?[n.endTime,n.value]:h(n)?[n.startTime,n.value]:f(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,p(e,t-1,n.startTime,o)]},v=function(e){return"cancelAndHold"===e.type},g=function(e){return"cancelScheduledValues"===e.type},y=function(e){return v(e)||g(e)?e.cancelTime:u(e)||l(e)?e.endTime:e.startTime},w=function(e,t,n,r){var o=r.endTime,a=r.value;return n===a?a:0<n&&0<a||n<0&&a<0?n*Math.pow(a/n,(e-t)/(o-t)):0},b=function(e,t,n,r){return n+(e-t)/(r.endTime-t)*(r.value-n)},C=function(e,t){var n=t.duration,r=t.startTime,o=t.values;return function(e,t){var n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]}(o,(e-r)/n*(o.length-1))},E=function(e){return"setTarget"===e.type},x=function(){return r((function e(t){n(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}),[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=y(e);if(v(e)||g(e)){var n=this._automationEvents.findIndex((function(n){return g(e)&&f(n)?n.startTime+n.duration>=t:y(n)>=t})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),v(e)){var c=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&d(r)){if(void 0!==c&&E(c))throw new Error("The internal list is malformed.");var h=void 0===c?r.insertTime:f(c)?c.startTime+c.duration:y(c),p=void 0===c?this._defaultValue:f(c)?c.values[c.values.length-1]:c.value,m=u(r)?w(t,h,p,r):b(t,h,p,r),C=u(r)?o(m,t,this._currenTime):a(m,t,this._currenTime);this._automationEvents.push(C)}if(void 0!==c&&E(c)&&this._automationEvents.push(i(this.getValue(t),t)),void 0!==c&&f(c)&&c.startTime+c.duration>t){var x=t-c.startTime,T=(c.values.length-1)/c.duration,A=Math.max(2,1+Math.ceil(x*T)),_=x/(A-1)*T,S=c.values.slice(0,A);if(_<1)for(var O=1;O<A;O+=1){var k=_*O%1;S[O]=c.values[O-1]*(1-k)+c.values[O]*k}this._automationEvents[this._automationEvents.length-1]=s(S,c.startTime,x)}}}else{var I=this._automationEvents.findIndex((function(e){return y(e)>t})),M=-1===I?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[I-1];if(void 0!==M&&f(M)&&y(M)+M.duration>t)return!1;var R=u(e)?o(e.value,e.endTime,this._currenTime):l(e)?a(e.value,t,this._currenTime):e;if(-1===I)this._automationEvents.push(R);else{if(f(e)&&t+e.duration>y(this._automationEvents[I]))return!1;this._automationEvents.splice(I,0,R)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return y(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),r=n[0];E(r)&&n.unshift(i(p(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(t){return y(t)>e})),r=this._automationEvents[n],o=(-1===n?this._automationEvents.length:n)-1,a=this._automationEvents[o];if(void 0!==a&&E(a)&&(void 0===r||!d(r)||r.insertTime>e))return c(e,p(this._automationEvents,o-1,a.startTime,this._defaultValue),a);if(void 0!==a&&h(a)&&(void 0===r||!d(r)))return a.value;if(void 0!==a&&f(a)&&(void 0===r||!d(r)||a.startTime+a.duration>e))return e<a.startTime+a.duration?C(e,a):a.values[a.values.length-1];if(void 0!==a&&d(a)&&(void 0===r||!d(r)))return a.value;if(void 0!==r&&u(r)){var i=m(this._automationEvents,o,a,r,this._defaultValue),s=t(i,2),v=s[0],g=s[1];return w(e,v,g,r)}if(void 0!==r&&l(r)){var x=m(this._automationEvents,o,a,r,this._defaultValue),T=t(x,2),A=T[0],_=T[1];return b(e,A,_,r)}return this._defaultValue}}])}();e.AutomationEventList=x,e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=i,e.createSetValueCurveAutomationEvent=s}(t,n(715),n(383),n(579))},389:function(e,t){!function(e){"use strict";var t,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,o=1073741824,a=new WeakMap,i=function(e,t){return function(a){var i=t.get(a),s=void 0===i?a.size:i<o?i+1:0;if(!a.has(s))return e(a,s);if(a.size<r){for(;a.has(s);)s=Math.floor(Math.random()*o);return e(a,s)}if(a.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;a.has(s);)s=Math.floor(Math.random()*n);return e(a,s)}}((t=a,function(e,n){return t.set(e,n),n}),a),s=function(e){return function(t){var n=e(t);return t.add(n),n}}(i);e.addUniqueNumber=s,e.generateUniqueNumber=i}(t)},111:e=>{"use strict";const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,n)=>{var r=n(736);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,n)=>{var r=n(987),o=n(156),a=n(122),i=n(752);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,n)=>{var r=n(738).default,o=n(45);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e].call(a.exports,a,a.exports,o),a.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="mypresets.mayday.blue:",o.l=(n,r,a,i)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={792:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=a);var i=o.p+o.u(t),s=new Error;o.l(i,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[i,s,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);c&&c(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkmypresets_mayday_blue=self.webpackChunkmypresets_mayday_blue||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};o.r(e),o.d(e,{hasBrowserEnv:()=>To,hasStandardBrowserEnv:()=>_o,hasStandardBrowserWebWorkerEnv:()=>So,navigator:()=>Ao,origin:()=>Oo});var t=o(389),n=o(795);const r=new WeakSet,a=new WeakMap,i=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p={construct:()=>p},m=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,v=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(m);for(;null!==o;){const e=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(m)}return[n.join(";"),r]},g=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},y=e=>{if(!(e=>{try{new new Proxy(e,p)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},w=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},b=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},C=(e,t,n,r)=>{const o=w(e,t),a=b(o,(e=>e[0]===n&&e[1]===r));return 0===o.size&&e.delete(t),a},E=e=>w(l,e),x=e=>{if(r.has(e))throw new Error("The AudioNode is already stored.");r.add(e),E(e).forEach((e=>e(!0)))},T=e=>"port"in e,A=e=>{if(!r.has(e))throw new Error("The AudioNode is not stored.");r.delete(e),E(e).forEach((e=>e(!1)))},_=(e,t)=>{!T(e)&&t.every((e=>0===e.size))&&A(e)},S={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},O=(e,t)=>e.context===t,k=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},I=()=>new DOMException("","IndexSizeError"),M=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw I();throw e}})},R={numberOfChannels:1},N=-34028234663852886e22,L=-N,P=e=>r.has(e),D={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},F=e=>w(a,e),B=e=>w(s,e),j=(e,t)=>{const{activeInputs:n}=F(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||j(n,[...t,e])}))));const r=(e=>"playbackRate"in e)(e)?[e.playbackRate]:T(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e&&!("gain"in e))(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of r){const n=B(e);void 0!==n&&n.activeInputs.forEach((([e])=>j(e,t)))}P(e)&&A(e)},q=e=>"context"in e,z=e=>q(e[0]),U=(e,t,n,r)=>{for(const t of e)if(n(t)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},W=(e,t,[n,r],o)=>{U(e,[t,n,r],(e=>e[0]===t&&e[1]===n),o)},V=(e,[t,n,r],o)=>{const a=e.get(t);void 0===a?e.set(t,new Set([[n,r]])):U(a,[n,r],(e=>e[0]===n),o)},H=e=>"inputs"in e,G=(e,t,n,r)=>{if(H(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},X=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},Y=(e,t)=>{if(!E(e).delete(t))throw new Error("Missing the expected event listener.")},Z=(e,t,n)=>{const r=w(e,t),o=b(r,(e=>e[0]===n));return 0===r.size&&e.delete(t),o},$=(e,t,n,r)=>{H(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},J=e=>w(i,e),K=e=>w(c,e),Q=e=>d.has(e),ee=e=>!r.has(e),te=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),r=e.createGain(),o=e.createBuffer(1,2,44100),a=o.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=o,i.loop=!0,i.connect(t).connect(e.destination),i.connect(r),i.disconnect(r),t.onaudioprocess=r=>{const o=r.inputBuffer.getChannelData(0);Array.prototype.some.call(o,(e=>1===e))?n(!0):n(!1),i.stop(),t.onaudioprocess=null,i.disconnect(t),t.disconnect(e.destination)},i.start()}})),ne=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},re=e=>"context"in e,oe=e=>{const t=new Map;var n,r;e.connect=(n=e.connect.bind(e),(e,r=0,o=0)=>{const a=re(e)?n(e,r,o):n(e,r),i=t.get(e);return void 0===i?t.set(e,[{input:o,output:r}]):i.every((e=>e.input!==o||e.output!==r))&&i.push({input:o,output:r}),a}),e.disconnect=(r=e.disconnect,(n,o,a)=>{if(r.apply(e),void 0===n)t.clear();else if("number"==typeof n)for(const[e,r]of t){const o=r.filter((e=>e.output!==n));0===o.length?t.delete(e):t.set(e,o)}else if(t.has(n))if(void 0===o)t.delete(n);else{const e=t.get(n);if(void 0!==e){const r=e.filter((e=>e.output!==o&&(e.input!==a||void 0===a)));0===r.length?t.delete(n):t.set(n,r)}}for(const[n,r]of t)r.forEach((t=>{re(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})},ae=(e,t,n,r,o)=>{const[a,i]=((e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=F(t),i=X(o[r],e,n);return null===i?[C(a,e,n,r)[2],!1]:[i[2],!0]})(e,n,r,o);if(null!==a&&(Y(e,a),!i||t||Q(e)||$(J(e),J(n),r,o)),P(n)){const{activeInputs:e}=F(n);_(n,e)}},ie=(e,t,n,r)=>{const[o,a]=((e,t,n)=>{const{activeInputs:r,passiveInputs:o}=B(t),a=X(r,e,n);return null===a?[Z(o,e,n)[1],!1]:[a[2],!0]})(e,n,r);null!==o&&(Y(e,o),!a||t||Q(e)||J(e).disconnect(K(n),r))};class se{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,r)=>e.call(t,n,r,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}function ce(e,t,n,r,o){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const a=e.getChannelData(r);if(0===t[n].byteLength)t[n]=a.slice(o,o+128);else{const e=new Float32Array(a.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const ue=(e,t,n,r,o)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,o):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],o)},le=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],o="number"==typeof t?t:t[r];for(let t=0;t<o;t+=1)e.push(new Float32Array(128));n.push(e)}return n},de=async(e,t,n,r,o,a,i)=>{const s=null===t?128*Math.ceil(e.context.length/128):t.length,c=r.channelCount*r.numberOfInputs,u=o.reduce(((e,t)=>e+t),0),l=0===u?null:n.createBuffer(u,s,n.sampleRate);if(void 0===a)throw new Error("Missing the processor constructor.");const d=F(e),h=await((e,t)=>{const n=w(f,e),r=J(t);return w(n,r)})(n,e),p=le(r.numberOfInputs,r.channelCount),m=le(r.numberOfOutputs,o),v=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let u=0;u<s;u+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)ce(t,p[e],n,n,u);void 0!==a.parameterDescriptors&&null!==t&&a.parameterDescriptors.forEach((({name:e},n)=>{ce(t,v,e,c+n,u)}));for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<o[e];t+=1)0===m[e][t].byteLength&&(m[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===d.activeInputs[t].size?[]:e)),t=i(u/n.sampleRate,n.sampleRate,(()=>h.process(e,m,v)));if(null!==l)for(let e=0,t=0;e<r.numberOfOutputs;e+=1){for(let n=0;n<o[e];n+=1)ue(l,m[e],n,t+n,u);t+=o[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return l},he={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},fe={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},pe={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},me={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ve={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ge=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((r=>{const o=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>o();try{t.postMessage(e,[e])}catch{}finally{o()}}))},ye={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},we=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},be={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ce={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ee=()=>new DOMException("","InvalidStateError"),xe=()=>new DOMException("","InvalidAccessError"),Te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ae=(e,t,n,r,o,a,i,s,c,u,l)=>{const d=u.length;let h=s;for(let s=0;s<d;s+=1){let d=n[0]*u[s];for(let t=1;t<o;t+=1){const r=h-t&c-1;d+=n[t]*a[r],d-=e[t]*i[r]}for(let e=o;e<r;e+=1)d+=n[e]*a[h-e&c-1];for(let n=o;n<t;n+=1)d-=e[n]*i[h-n&c-1];a[h]=u[s],i[h]=d,h=h+1&c-1,l[s]=d}return h},_e={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Se=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Oe=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},ke=(e,t)=>{Oe(e,t,"channelCount"),Oe(e,t,"channelCountMode"),Oe(e,t,"channelInterpretation")},Ie=e=>"function"==typeof e.getFloatTimeDomainData,Me=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},Re=e=>{var t;e.start=(t=e.start,(n=0,r=0,o)=>{if("number"==typeof o&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})},Ne=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Le=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Pe=(e,t)=>{const n=e.createBiquadFilter();return ke(n,t),Me(n,t,"Q"),Me(n,t,"detune"),Me(n,t,"frequency"),Me(n,t,"gain"),Oe(n,t,"type"),n},De=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return ke(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ee()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Ee()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Ee()}})})(n),n},Fe=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Be=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return ke(n,t),Me(n,t,"delayTime"),n},je=(e,t)=>{const n=e.createGain();return ke(n,t),Me(n,t,"gain"),n};function qe(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function ze(e,t){let n=[0,0];for(let a=e.length-1;a>=0;a-=1)o=t,n=[(r=n)[0]*o[0]-r[1]*o[1],r[0]*o[1]+r[1]*o[0]],n[0]+=e[a];var r,o;return n}const Ue=(e,t,n,r)=>e.createScriptProcessor(t,n,r),We=()=>new DOMException("","NotSupportedError"),Ve={numberOfChannels:1},He={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ge={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Xe={disableNormalization:!1},Ye={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ze={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},$e=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),Je=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},Ke=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:a,set:i}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(a),set:r(i)})},Qe=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(9!==r.code)throw r;Qe(e,t,n+1e-7)}},et=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},tt=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},nt=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},rt=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=e.disconnect,()=>{o.call(e,n),e.removeEventListener("ended",r)});var o;e.addEventListener("ended",r),Fe(e,n),e.stop=(t=>{let r=!1;return(o=0)=>{if(r)try{t.call(e,o)}catch{n.gain.setValueAtTime(0,o)}else t.call(e,o),r=!0}})(e.stop)},ot=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},at=(e=>(t,n,[r,o,a],i)=>{e(t[o],[n,r,a],(e=>e[0]===n&&e[1]===r),i)})(U),it=(e=>(t,n,[r,o,a],i)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[o,n,a]])):e(s,[o,n,a],(e=>e[0]===o&&e[1]===n),i)})(U),st=(e=>(t,n,r,o)=>e(t[o],(e=>e[0]===n&&e[1]===r)))(b),ct=new WeakMap,ut=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(ct),lt=(dt=new Map,ht=new WeakMap,(e,t)=>{const n=ht.get(e);if(void 0!==n)return n;const r=dt.get(e);if(void 0!==r)return r;try{const n=t();return n instanceof Promise?(dt.set(e,n),n.catch((()=>!1)).then((t=>(dt.delete(e),ht.set(e,t),t)))):(ht.set(e,n),n)}catch{return ht.set(e,!1),!1}});var dt,ht;const ft="undefined"==typeof window?null:window,pt=((e,t)=>(n,r)=>{const o=n.createAnalyser();if(ke(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Oe(o,r,"fftSize"),Oe(o,r,"maxDecibels"),Oe(o,r,"minDecibels"),Oe(o,r,"smoothingTimeConstant"),e(Ie,(()=>Ie(o)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(o),o})(lt,I),mt=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(F),vt=((e,t,n)=>async(r,o,a)=>{const i=e(r);await Promise.all(i.activeInputs.map(((e,i)=>Array.from(e).map((async([e,s])=>{const c=t(e),u=await c.render(e,o),l=r.context.destination;n(e)||r===l&&n(r)||u.connect(a,s,i)})))).reduce(((e,t)=>[...e,...t]),[]))})(F,mt,Q),gt=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=t(o);if(!O(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=e(a,t)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(pt,J,vt),yt=(wt=u,e=>{const t=wt.get(e);if(void 0===t)throw Ee();return t});var wt;const bt=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(ft),Ct=(e=>t=>null!==e&&t instanceof e)(bt),Et=new WeakMap,xt=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,r){if(null!==n){let o=this._listeners.get(n);void 0===o&&(o=e(this,n),"function"==typeof n&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}})(ot),Tt=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(ft),At=(e=>t=>null!==e&&t instanceof e)(Tt),_t=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(ft),St=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(ft),Ot=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(ft),kt=((e,t,n,r,o,a,s,c,u,d,h,f,p,m,v,g)=>class extends d{constructor(t,r,o,a){super(o),this._context=t,this._nativeAudioNode=o;const s=h(t);f(s)&&!0!==n(te,(()=>te(s,g)))&&oe(o),i.set(this,o),l.set(this,new Set),"closed"!==t.state&&r&&x(this),e(this,a,o)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,i=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw o();const c=h(this._context),l=v(c);if(p(e)||m(e))throw a();if(q(e)){const o=J(e);try{const t=G(this._nativeAudioNode,o,n,i),r=ee(this);(l||r)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!r&&ee(e)&&x(e)}catch(e){if(12===e.code)throw a();throw e}if(t(this,e,n,i,l)){const t=u([this],e);ne(t,r(l))}return e}const d=K(e);if("playbackRate"===d.name&&1024===d.maxValue)throw s();try{this._nativeAudioNode.connect(d,n),(l||ee(this))&&this._nativeAudioNode.disconnect(d,n)}catch(e){if(12===e.code)throw a();throw e}if(((e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=B(t),{outputs:i}=F(e),s=E(e),c=i=>{const s=J(e),c=K(t);if(i){const t=Z(a,e,n);W(o,e,t,!1),r||Q(e)||s.connect(c,n)}else{const t=((e,t,n)=>b(e,(e=>e[0]===t&&e[1]===n)))(o,e,n);V(a,t,!1),r||Q(e)||s.disconnect(c,n)}};return!!U(i,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(s.add(c),P(e)?W(o,e,[n,c],!0):V(a,[e,n,c],!0),!0)})(this,e,n,l)){const t=u([this],e);ne(t,r(l))}}disconnect(e,t,n){let r;const i=h(this._context),s=v(i);if(void 0===e)r=((e,t)=>{const n=F(e),r=[];for(const o of n.outputs)z(o)?ae(e,t,...o):ie(e,t,...o),r.push(o[0]);return n.outputs.clear(),r})(this,s);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw o();r=((e,t,n)=>{const r=F(e),o=[];for(const a of r.outputs)a[1]===n&&(z(a)?ae(e,t,...a):ie(e,t,...a),o.push(a[0]),r.outputs.delete(a));return o})(this,s,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw o();if(q(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw o();if(r=((e,t,n,r,o)=>{const a=F(e);return Array.from(a.outputs).filter((e=>!(e[0]!==n||void 0!==r&&e[1]!==r||void 0!==o&&e[2]!==o))).map((n=>(z(n)?ae(e,t,...n):ie(e,t,...n),a.outputs.delete(n),n[0])))})(this,s,e,t,n),0===r.length)throw a()}for(const e of r){const t=u([this],e);ne(t,c)}}})((It=a,(e,t,n)=>{const r=[];for(let e=0;e<n.numberOfInputs;e+=1)r.push(new Set);It.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,r,o,a,i,s,c,u,l,d,h)=>{const f=new WeakMap;return(p,m,v,g,y)=>{const{activeInputs:w,passiveInputs:b}=a(m),{outputs:E}=a(p),T=s(p),A=a=>{const s=c(m),u=c(p);if(a){const t=C(b,p,v,g);e(w,p,t,!1),y||d(p)||n(u,s,v,g),h(m)&&x(m)}else{const e=r(w,p,v,g);t(b,g,e,!1),y||d(p)||o(u,s,v,g);const n=i(m);if(0===n)l(m)&&_(m,w);else{const e=f.get(m);void 0!==e&&clearTimeout(e),f.set(m,setTimeout((()=>{l(m)&&_(m,w)}),1e3*n))}}};return!!u(E,[m,v,g],(e=>e[0]===m&&e[1]===v&&e[2]===g),!0)&&(T.add(A),l(p)?e(w,p,[v,g,A],!0):t(b,g,[p,v,A],!0),!0)}})(at,it,G,st,$,F,ut,E,J,U,P,Q,ee),lt,((e,t,n,r,o,a)=>i=>(s,c)=>{const u=e.get(s);if(void 0===u){if(!i&&a(s)){const e=r(s),{outputs:a}=n(s);for(const n of a)if(z(n)){const o=r(n[0]);t(e,o,n[1],n[2])}else{const t=o(n[0]);e.disconnect(t,n[1])}}e.set(s,c)}else e.set(s,u+c)})(d,$,F,J,K,P),I,xe,We,((e,t,n,r,o,a,i,s)=>(c,u)=>{const l=t.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const d=a(c.context),h=s(d);if(l===u){if(t.delete(c),!h&&i(c)){const t=r(c),{outputs:a}=n(c);for(const n of a)if(z(n)){const o=r(n[0]);e(t,o,n[1],n[2])}else{const e=o(n[0]);t.connect(e,n[1])}}}else t.set(c,l-u)})(G,d,F,J,K,yt,P,Ct),((e,t,n)=>function r(o,a){const i=q(a)?a:n(e,a);if((e=>"delayTime"in e)(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:s}=t(i);return Array.from(s).map((e=>r([...o,i],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Et,F,w),xt,yt,At,_t,St,Ct,Ot);var It;const Mt=((e,t,n,r,o,a)=>class extends e{constructor(e,n){const i=o(e),s={...S,...n},c=r(i,s);super(e,!1,c,a(i)?t():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(kt,gt,I,pt,yt,Ct),Rt=new WeakSet,Nt=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(ft),Lt=(Pt=new Uint32Array(1),e=>(Pt[0]=e,Pt[0]));var Pt;const Dt=((e,t)=>n=>{n.copyFromChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(s),l=r.length;for(let e=i<0?-i:0;e+i<c&&e<l;e+=1)r[e]=u[e+i]},n.copyToChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(s),l=r.length;for(let e=i<0?-i:0;e+i<c&&e<l;e+=1)u[e+i]=r[e]}})(Lt,I),Ft=(e=>t=>{t.copyFromChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyToChannel)})(Lt),Bt=((e,t,n,r,o,a,i,s)=>{let c=null;return class u{constructor(u){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:d,sampleRate:h}={...R,...u};null===c&&(c=new o(1,1,44100));const f=null!==r&&t(a,a)?new r({length:l,numberOfChannels:d,sampleRate:h}):c.createBuffer(d,l,h);if(0===f.numberOfChannels)throw n();return"function"!=typeof f.copyFromChannel?(i(f),M(f)):t(k,(()=>k(f)))||s(f),e.add(f),f}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(Rt,lt,We,Nt,bt,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(Nt),Dt,Ft),jt=(e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)})(je),qt=((e,t,n)=>async(r,o,a)=>{const i=t(r);await Promise.all(Array.from(i.activeInputs).map((async([t,r])=>{const i=e(t),s=await i.render(t,o);n(t)||s.connect(a,r)})))})(mt,B,Q),zt=(e=>(t,n,r)=>e(n,t,r))(qt),Ut=((e,t,n,r,o,a,i,s,c,u,l)=>(c,d)=>{const h=c.createBufferSource();return ke(h,d),Me(h,d,"playbackRate"),Oe(h,d,"buffer"),Oe(h,d,"loop"),Oe(h,d,"loopEnd"),Oe(h,d,"loopStart"),t(n,(()=>n(c)))||(e=>{e.start=(t=>{let n=!1;return(r=0,o=0,a)=>{if(n)throw Ee();t.call(e,r,o,a),n=!0}})(e.start)})(h),t(r,(()=>r(c)))||(e=>{var t;e.start=(t=e.start,(n=0,r=0,o)=>{const a=e.buffer,i=null===a?r:Math.min(a.duration,r);null!==a&&i>a.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,o)})})(h),t(o,(()=>o(c)))||u(h,c),t(a,(()=>a(c)))||Re(h),t(i,(()=>i(c)))||l(h,c),t(s,(()=>s(c)))||Ne(h),e(c,h),h})(jt,lt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),et,tt,nt,0,(e=>(t,n)=>{const r=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=r),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===r?null:n}),(e=>n=>e.call(t,null===n?r:n)))})(Ke),rt),Wt=((e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(B),qt),Vt=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,u){const l=a.get(u);return void 0!==l?Promise.resolve(l):(async(c,u)=>{let l=n(c);const d=O(l,u);if(!d){const e={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=t(u,e),null!==i&&l.start(...i),null!==s&&l.stop(s)}return a.set(u,l),d?await e(u,c.playbackRate,l.playbackRate):await r(u,c.playbackRate,l.playbackRate),await o(c,u,l),l})(c,u)}}})(zt,Ut,J,Wt,vt),Ht=((e,t,r,o,a,i,s,c,u,l,d,h,f)=>(o,p,m,v=null,g=null)=>{const y=m.value,w=new n.AutomationEventList(y),b=p?(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:o}=n;t.setTargetAtTime(r,e,o)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:o}=n;t.setValueCurveAtTime(o,r,e)}}}}))(w):null,C={get defaultValue(){return y},get maxValue(){return null===v?m.maxValue:v},get minValue(){return null===g?m.minValue:g},get value(){return m.value},set value(e){m.value=e,C.setValueAtTime(e,o.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof m.cancelAndHoldAtTime)null===b&&w.flush(o.context.currentTime),w.add(a(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(w).pop();null===b&&w.flush(o.context.currentTime),w.add(a(e));const n=Array.from(w).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return C},cancelScheduledValues:e=>(null===b&&w.flush(o.context.currentTime),w.add(i(e)),m.cancelScheduledValues(e),C),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=o.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(l(y,n)),m.setValueAtTime(y,n)),w.add(s(e,t)),m.exponentialRampToValueAtTime(e,t),C},linearRampToValueAtTime(e,t){const n=o.context.currentTime;return null===b&&w.flush(n),0===Array.from(w).length&&(w.add(l(y,n)),m.setValueAtTime(y,n)),w.add(c(e,t)),m.linearRampToValueAtTime(e,t),C},setTargetAtTime:(e,t,n)=>(null===b&&w.flush(o.context.currentTime),w.add(u(e,t,n)),m.setTargetAtTime(e,t,n),C),setValueAtTime:(e,t)=>(null===b&&w.flush(o.context.currentTime),w.add(l(e,t)),m.setValueAtTime(e,t),C),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,a=o.context.sampleRate,i=Math.ceil(t*a),s=Math.floor(e*a),c=s-i,u=new Float32Array(c);for(let e=0;e<c;e+=1){const o=(r.length-1)/n*((i+e)/a-t),s=Math.floor(o),c=Math.ceil(o);u[e]=s===c?r[s]:(1-(o-s))*r[s]+(1-(c-o))*r[c]}null===b&&w.flush(o.context.currentTime),w.add(d(u,t,n)),m.setValueCurveAtTime(u,t,n);const l=s/a;l<e&&f(C,u[u.length-1],l),f(C,r[r.length-1],e)}else null===b&&w.flush(o.context.currentTime),w.add(d(r,t,n)),m.setValueCurveAtTime(r,t,n);return C}};return r.set(C,m),t.set(C,o),e(C,b),C})((Gt=s,(e,t)=>{Gt.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Et,c,0,n.createCancelAndHoldAutomationEvent,n.createCancelScheduledValuesAutomationEvent,n.createExponentialRampToValueAutomationEvent,n.createLinearRampToValueAutomationEvent,n.createSetTargetAutomationEvent,n.createSetValueAutomationEvent,n.createSetValueCurveAutomationEvent,Tt,Qe);var Gt;const Xt=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,r){const s=a(e),c={...D,...r},u=o(s,c),l=i(s),d=l?t():null;super(e,!1,u,d),this._audioBufferSourceNodeRenderer=d,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,l,u.playbackRate,L,N)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?s(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){x(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),P(this)&&A(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(kt,Vt,Ht,Ee,Ut,yt,Ct,ot),Yt=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,t){const n=a(e),r=i(n),c=o(n,t,r);super(e,!1,c,r?(e=>{const t=new WeakMap;return{render(n,r){const o=t.get(r);return void 0!==o?Promise.resolve(o):(async(n,r)=>{const o=r.destination;return t.set(r,o),await e(n,r,o),o})(n,r)}}})(s):null),this._isNodeOfNativeOfflineAudioContext=r,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(kt,0,I,Ee,((e,t)=>(n,r,o)=>{const a=n.destination;if(a.channelCount!==r)try{a.channelCount=r}catch{}o&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:r});const i=e(n,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return t(i,"channelCount",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t);try{a.channelCount=t}catch(e){if(t>a.maxChannelCount)throw e}})),t(i,"channelCountMode",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelCountMode=t})),t(i,"channelInterpretation",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelInterpretation=t})),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(je,Ke),yt,Ct,vt),Zt=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s)=>{let c=n(i);const u=O(c,s);if(!u){const e={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(s,e)}return a.set(s,c),u?(await e(s,i.Q,c.Q),await e(s,i.detune,c.detune),await e(s,i.frequency,c.frequency),await e(s,i.gain,c.gain)):(await r(s,i.Q,c.Q),await r(s,i.detune,c.detune),await r(s,i.frequency,c.frequency),await r(s,i.gain,c.gain)),await o(i,s,c),c})(i,s)}}})(zt,Pe,J,Wt,vt),$t=(e=>(t,n)=>e.set(t,n))(ct),Jt=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,r){const c=a(e),u={...he,...r},l=o(c,u),d=i(c);super(e,!1,l,d?n():null),this._Q=t(this,d,l.Q,L,N),this._detune=t(this,d,l.detune,1200*Math.log2(L),-1200*Math.log2(L)),this._frequency=t(this,d,l.frequency,e.sampleRate/2,0),this._gain=t(this,d,l.gain,40*Math.log10(L),N),this._nativeBiquadFilterNode=l,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw r();throw e}if(e.length!==t.length||t.length!==n.length)throw r()}})(kt,Ht,Zt,xe,Pe,yt,Ct,$t),Kt=((e,t)=>(n,r,o)=>{const a=new Set;var i,s;return n.connect=(i=n.connect,(o,s=0,c=0)=>{const u=0===a.size;if(t(o))return i.call(n,o,s,c),e(a,[o,s,c],(e=>e[0]===o&&e[1]===s&&e[2]===c),!0),u&&r(),o;i.call(n,o,s),e(a,[o,s],(e=>e[0]===o&&e[1]===s),!0),u&&r()}),n.disconnect=(s=n.disconnect,(e,r,i)=>{const c=a.size>0;if(void 0===e)s.apply(n),a.clear();else if("number"==typeof e){s.call(n,e);for(const t of a)t[1]===e&&a.delete(t)}else{t(e)?s.call(n,e,r,i):s.call(n,e,r);for(const t of a)t[0]!==e||void 0!==r&&t[1]!==r||void 0!==i&&t[2]!==i||a.delete(t)}const u=0===a.size;c&&u&&o()}),n})(U,_t),Qt=((e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,(()=>{const e=r.numberOfInputs;for(let t=0;t<e;t+=1)o.connect(r,0,t)}),(()=>o.disconnect(r)))})(Ee,Kt),en=((e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,o),ke(o,r),o})(Tt,Qt),tn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=t(o);if(!O(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs};i=e(a,t)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(en,J,vt),nn=((e,t,n,r,o)=>class extends e{constructor(e,a){const i=r(e),s={...fe,...a};super(e,!1,n(i,s),o(i)?t():null)}})(kt,tn,en,yt,Ct),rn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=t(o);if(!O(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs};i=e(a,t)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(De,J,vt),on=((e,t,n,r,o)=>class extends e{constructor(e,a){const i=r(e),s=(e=>({...e,channelCount:e.numberOfOutputs}))({...pe,...a});super(e,!1,n(i,s),o(i)?t():null)}})(kt,rn,De,yt,Ct),an=((e,t,n,r)=>(o,{offset:a,...i})=>{const s=o.createBuffer(1,2,44100),c=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(o,{...i,gain:a}),l=s.getChannelData(0);l[0]=1,l[1]=1,c.buffer=s,c.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(e){c.onended=e},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2]),start(e=0){c.start.call(c,e)},stop(e=0){c.stop.call(c,e)}};return e(o,c),r(Fe(d,u),(()=>c.connect(u)),(()=>c.disconnect(u)))})(jt,Ut,je,Kt),sn=((e,t,n,r,o)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const s=a.createConstantSource();return ke(s,i),Me(s,i,"offset"),t(r,(()=>r(a)))||Re(s),t(o,(()=>o(a)))||Ne(s),e(a,s),s})(jt,lt,an,et,nt),cn=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,u){const l=a.get(u);return void 0!==l?Promise.resolve(l):(async(c,u)=>{let l=n(c);const d=O(l,u);if(!d){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=t(u,e),null!==i&&l.start(i),null!==s&&l.stop(s)}return a.set(u,l),d?await e(u,c.offset,l.offset):await r(u,c.offset,l.offset),await o(c,u,l),l})(c,u)}}})(zt,sn,J,Wt,vt),un=((e,t,n,r,o,a,i)=>class extends e{constructor(e,i){const s=o(e),c={...me,...i},u=r(s,c),l=a(s),d=l?n():null;super(e,!1,u,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=u,this._offset=t(this,l,u.offset,L,N),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){x(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),P(this)&&A(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(kt,Ht,cn,sn,yt,Ct,ot),ln=((e,t)=>(n,r)=>{const o=n.createConvolver();if(ke(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Oe(o,r,"buffer"),r.channelCount>2)throw e();if(t(o,"channelCount",(e=>()=>e.call(o)),(t=>n=>{if(n>2)throw e();return t.call(o,n)})),"max"===r.channelCountMode)throw e();return t(o,"channelCountMode",(e=>()=>e.call(o)),(t=>n=>{if("max"===n)throw e();return t.call(o,n)})),o})(We,Ke),dn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=t(o);if(!O(i,a)){const t={buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize};i=e(a,t)}return r.set(a,i),H(i)?await n(o,a,i.inputs[0]):await n(o,a,i),i})(o,a)}}})(ln,J,vt),hn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=r(e),c={...ve,...i},u=n(s,c);super(e,!1,u,o(s)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==c.buffer&&a(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(kt,dn,ln,yt,Ct,$t),fn=((e,t,n,r,o)=>a=>{const i=new WeakMap;return{render(s,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):(async(s,c)=>{let u=n(s);const l=O(u,c);if(!l){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:a};u=t(c,e)}return i.set(c,u),l?await e(c,s.delayTime,u.delayTime):await r(c,s.delayTime,u.delayTime),await o(s,c,u),u})(s,c)}}})(zt,Be,J,Wt,vt),pn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,s){const c=o(e),u={...ye,...s},l=r(c,u),d=a(c);super(e,!1,l,d?n(u.maxDelayTime):null),this._delayTime=t(this,d,l.delayTime),i(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(kt,Ht,fn,Be,yt,Ct,$t),mn=(e=>(t,n)=>{const r=t.createDynamicsCompressor();if(ke(r,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return Me(r,n,"attack"),Me(r,n,"knee"),Me(r,n,"ratio"),Me(r,n,"release"),Me(r,n,"threshold"),r})(We),vn=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s)=>{let c=n(i);const u=O(c,s);if(!u){const e={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(s,e)}return a.set(s,c),u?(await e(s,i.attack,c.attack),await e(s,i.knee,c.knee),await e(s,i.ratio,c.ratio),await e(s,i.release,c.release),await e(s,i.threshold,c.threshold)):(await r(s,i.attack,c.attack),await r(s,i.knee,c.knee),await r(s,i.ratio,c.ratio),await r(s,i.release,c.release),await r(s,i.threshold,c.threshold)),await o(i,s,c),c})(i,s)}}})(zt,mn,J,Wt,vt),gn=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,o){const c=a(e),u={...be,...o},l=r(c,u),d=i(c);super(e,!1,l,d?n():null),this._attack=t(this,d,l.attack),this._knee=t(this,d,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=t(this,d,l.ratio),this._release=t(this,d,l.release),this._threshold=t(this,d,l.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(kt,Ht,vn,mn,We,yt,Ct,$t),yn=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s)=>{let c=n(i);const u=O(c,s);if(!u){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(s,e)}return a.set(s,c),u?await e(s,i.gain,c.gain):await r(s,i.gain,c.gain),await o(i,s,c),c})(i,s)}}})(zt,je,J,Wt,vt),wn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=o(e),c={...Ce,...i},u=r(s,c),l=a(s);super(e,!1,u,l?n():null),this._gain=t(this,l,u.gain,L,N)}get gain(){return this._gain}})(kt,Ht,yn,je,yt,Ct),bn=((e,t,n,r)=>(o,a,{channelCount:i,channelCountMode:s,channelInterpretation:c,feedback:u,feedforward:l})=>{const d=Le(a,o.sampleRate),h=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=h.length,m=f.length,v=Math.min(p,m);if(0===p||p>20)throw r();if(0===h[0])throw t();if(0===m||m>20)throw r();if(0===f[0])throw t();if(1!==h[0]){for(let e=0;e<m;e+=1)f[e]/=h[0];for(let e=1;e<p;e+=1)h[e]/=h[0]}const g=n(o,d,i,i);g.channelCount=i,g.channelCountMode=s,g.channelInterpretation=c;const y=[],w=[],b=[];for(let e=0;e<i;e+=1){y.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),w.push(e),b.push(t)}g.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let e=0;e<r;e+=1){const r=t.getChannelData(e),o=n.getChannelData(e);y[e]=Ae(h,p,f,m,v,w[e],b[e],y[e],32,r,o)}};const C=o.sampleRate/2;return Fe({get bufferSize(){return d},get channelCount(){return g.channelCount},set channelCount(e){g.channelCount=e},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){g.channelCountMode=e},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(e){g.channelInterpretation=e},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...e)=>g.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>g.dispatchEvent(e[0]),getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const o=t.length;for(let e=0;e<o;e+=1){const o=-Math.PI*(t[e]/C),a=[Math.cos(o),Math.sin(o)],i=qe(ze(f,a),ze(h,a));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>g.removeEventListener(e[0],e[1],e[2])},g)})(xe,Ee,Ue,We),Cn=((e,t,n,r)=>o=>e(Se,(()=>Se(o)))?Promise.resolve(e(r,r)).then((e=>{if(!e){const e=n(o,512,0,1);o.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>o.currentTime,e.connect(o.destination)}return o.startRendering()})):new Promise((e=>{const n=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(o.destination),o.startRendering()})))(lt,je,Ue,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(je,bt)),En=((e,t,n,r,o)=>(a,i)=>{const s=new WeakMap;let c=null;return{render(u,l){const d=s.get(l);return void 0!==d?Promise.resolve(d):(async(u,l)=>{let d=null,h=t(u);const f=O(h,l);if(void 0===l.createIIRFilter?d=e(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(h=l.createIIRFilter(i,a)),s.set(l,null===d?h:d),null!==d){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,l.sampleRate);c=(async()=>(await r(u,e,e.destination),((e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),a=r instanceof Float64Array?r:new Float64Array(r),i=o.length,s=a.length,c=Math.min(i,s);if(1!==o[0]){for(let e=0;e<i;e+=1)a[e]/=o[0];for(let e=1;e<s;e+=1)o[e]/=o[0]}const u=new Float32Array(32),l=new Float32Array(32),d=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),h=e.numberOfChannels;for(let t=0;t<h;t+=1){const n=e.getChannelData(t),r=d.getChannelData(t);u.fill(0),l.fill(0),Ae(o,i,a,s,c,u,l,0,32,n,r)}return d})(await o(e),l,a,i)))()}const e=await c;return d.buffer=e,d.start(0),d}return await r(u,l,h),h})(u,l)}}})(Ut,J,bt,vt,Cn),xn=(e=>(t,n,r)=>{if(void 0===t.createIIRFilter)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return ke(o,r),o})(bn),Tn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=r(e),c=o(s),u={...Te,...i},l=t(s,c?null:e.baseLatency,u);super(e,!1,l,c?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw xe();return t.call(e,n,r,o)})})(l),this._nativeIIRFilterNode=l,a(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(kt,xn,En,yt,Ct,$t),An=((e,t,n,r,o,a,i,s)=>(c,u)=>{const l=u.listener,{forwardX:d,forwardY:h,forwardZ:f,positionX:p,positionY:m,positionZ:v,upX:g,upY:y,upZ:w}=void 0===l.forwardX?(()=>{const d=new Float32Array(1),h=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),f=i(u);let p=!1,m=[0,0,-1,0,1,0],v=[0,0,0];const g=()=>{if(p)return;p=!0;const e=r(u,256,9,0);e.onaudioprocess=({inputBuffer:e})=>{const t=[a(e,d,0),a(e,d,1),a(e,d,2),a(e,d,3),a(e,d,4),a(e,d,5)];t.some(((e,t)=>e!==m[t]))&&(l.setOrientation(...t),m=t);const n=[a(e,d,6),a(e,d,7),a(e,d,8)];n.some(((e,t)=>e!==v[t]))&&(l.setPosition(...n),v=n)},h.connect(e)},y=e=>t=>{t!==m[e]&&(m[e]=t,l.setOrientation(...m))},w=e=>t=>{t!==v[e]&&(v[e]=t,l.setPosition(...v))},b=(t,r,a)=>{const i=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});i.connect(h,0,t),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>r});const l=e({context:c},f,i.offset,L,N);var d,p,m,v,y,w,b;return s(l,"value",(e=>()=>e.call(l)),(e=>t=>{try{e.call(l,t)}catch(e){if(9!==e.code)throw e}g(),f&&a(t)})),l.cancelAndHoldAtTime=(d=l.cancelAndHoldAtTime,f?()=>{throw o()}:(...e)=>{const t=d.apply(l,e);return g(),t}),l.cancelScheduledValues=(p=l.cancelScheduledValues,f?()=>{throw o()}:(...e)=>{const t=p.apply(l,e);return g(),t}),l.exponentialRampToValueAtTime=(m=l.exponentialRampToValueAtTime,f?()=>{throw o()}:(...e)=>{const t=m.apply(l,e);return g(),t}),l.linearRampToValueAtTime=(v=l.linearRampToValueAtTime,f?()=>{throw o()}:(...e)=>{const t=v.apply(l,e);return g(),t}),l.setTargetAtTime=(y=l.setTargetAtTime,f?()=>{throw o()}:(...e)=>{const t=y.apply(l,e);return g(),t}),l.setValueAtTime=(w=l.setValueAtTime,f?()=>{throw o()}:(...e)=>{const t=w.apply(l,e);return g(),t}),l.setValueCurveAtTime=(b=l.setValueCurveAtTime,f?()=>{throw o()}:(...e)=>{const t=b.apply(l,e);return g(),t}),l};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,w(0)),positionY:b(7,0,w(1)),positionZ:b(8,0,w(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():l;return{get forwardX(){return d},get forwardY(){return h},get forwardZ(){return f},get positionX(){return p},get positionY(){return m},get positionZ(){return v},get upX(){return g},get upY(){return y},get upZ(){return w}}})(Ht,en,sn,Ue,We,$e,Ct,Ke),_n=new WeakMap,Sn=((e,t,n,r,o,a)=>class extends n{constructor(n,a){super(n),this._nativeContext=n,u.set(this,n),r(n)&&o.set(n,new Set),this._destination=new e(this,a),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?a(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Yt,An,xt,Ct,_n,ot),On=((e,t,n,r,o,a)=>(i,s)=>{const c=i.createOscillator();return ke(c,s),Me(c,s,"detune"),Me(c,s,"frequency"),void 0!==s.periodicWave?c.setPeriodicWave(s.periodicWave):Oe(c,s,"type"),t(n,(()=>n(i)))||Re(c),t(r,(()=>r(i)))||a(c,i),t(o,(()=>o(i)))||Ne(c),e(i,c),c})(jt,lt,et,tt,nt,rt),kn=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null,c=null;return{set periodicWave(e){i=e},set start(e){s=e},set stop(e){c=e},render(u,l){const d=a.get(l);return void 0!==d?Promise.resolve(d):(async(u,l)=>{let d=n(u);const h=O(d,l);if(!h){const e={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===i?void 0:i,type:d.type};d=t(l,e),null!==s&&d.start(s),null!==c&&d.stop(c)}return a.set(l,d),h?(await e(l,u.detune,d.detune),await e(l,u.frequency,d.frequency)):(await r(l,u.detune,d.detune),await r(l,u.frequency,d.frequency)),await o(u,l,d),d})(u,l)}}})(zt,On,J,Wt,vt),In=((e,t,n,r,o,a,i)=>class extends e{constructor(e,i){const s=o(e),c={...He,...i},u=n(s,c),l=a(s),d=l?r():null,h=e.sampleRate/2;super(e,!1,u,d),this._detune=t(this,l,u.detune,153600,-153600),this._frequency=t(this,l,u.frequency,h,-h),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=d,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){x(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),P(this)&&A(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(kt,Ht,On,kn,yt,Ct,ot),Mn=(e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(Ut),Rn=((e,t,n,r,o)=>(a,{curve:i,oversample:s,...c})=>{const u=a.createWaveShaper(),l=a.createWaveShaper();ke(u,c),ke(l,c);const d=n(a,{...c,gain:1}),h=n(a,{...c,gain:-1}),f=n(a,{...c,gain:1}),p=n(a,{...c,gain:-1});let m=null,v=!1,g=null;const y={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){d.channelCount=e,h.channelCount=e,u.channelCount=e,f.channelCount=e,l.channelCount=e,p.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){d.channelCountMode=e,h.channelCountMode=e,u.channelCountMode=e,f.channelCountMode=e,l.channelCountMode=e,p.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,h.channelInterpretation=e,u.channelInterpretation=e,f.channelInterpretation=e,l.channelInterpretation=e,p.channelInterpretation=e},get context(){return u.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,l.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const o=Math.ceil((e+1)/2),a=(e+1)/2-1;for(let i=1;i<o;i+=1){const s=i/o*a,c=Math.floor(s),u=Math.ceil(s);t[i]=c===u?n[c]:(1-(s-c))*n[c]+(1-(u-s))*n[u],r[i]=c===u?-n[e-1-c]:-(1-(s-c))*n[e-1-c]-(1-(u-s))*n[e-1-u]}t[o]=e%2==1?n[o-1]:(n[o-2]+n[o-1])/2,u.curve=t,l.curve=r}g=n,v&&(r(g)&&null===m?m=e(a,d):null!==m&&(m(),m=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,l.oversample=e},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};return null!==i&&(y.curve=i instanceof Float32Array?i:new Float32Array(i)),s!==y.oversample&&(y.oversample=s),o(Fe(y,f),(()=>{d.connect(u).connect(f),d.connect(h).connect(l).connect(p).connect(f),v=!0,r(g)&&(m=e(a,d))}),(()=>{d.disconnect(u),u.disconnect(f),d.disconnect(h),h.disconnect(l),l.disconnect(p),p.disconnect(f),v=!1,null!==m&&(m(),m=null)}))})(Mn,Ee,je,Je,Kt),Nn=((e,t,n,r,o,a,i)=>(s,c)=>{const u=s.createWaveShaper();if(null!==a&&"webkitAudioContext"===a.name&&void 0===s.createGain().gain.automationRate)return n(s,c);ke(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw t();Oe(u,{curve:l},"curve"),Oe(u,c,"oversample");let d=null,h=!1;return i(u,"curve",(e=>()=>e.call(u)),(t=>n=>(t.call(u,n),h&&(r(n)&&null===d?d=e(s,u):r(n)||null===d||(d(),d=null)),n))),o(u,(()=>{h=!0,r(u.curve)&&(d=e(s,u))}),(()=>{h=!1,null!==d&&(d(),d=null)}))})(Mn,Ee,Rn,Je,Kt,Tt,Ke),Ln=((e,t,n,r,o,a,i,s,c,u)=>(l,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:m,orientationX:v,orientationY:g,orientationZ:y,panningModel:w,positionX:b,positionY:C,positionZ:E,refDistance:x,rolloffFactor:T,...A})=>{const _=l.createPanner();if(A.channelCount>2)throw i();if("max"===A.channelCountMode)throw i();ke(_,A);const S={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(l,{...S,channelInterpretation:"speakers",numberOfInputs:6}),k=r(l,{...A,gain:1}),I=r(l,{...S,gain:1}),M=r(l,{...S,gain:0}),R=r(l,{...S,gain:0}),N=r(l,{...S,gain:0}),L=r(l,{...S,gain:0}),P=r(l,{...S,gain:0}),D=o(l,256,6,1),F=a(l,{...S,curve:new Float32Array([1,1]),oversample:"none"});let B=[v,g,y],j=[b,C,E];const q=new Float32Array(1);D.onaudioprocess=({inputBuffer:e})=>{const t=[c(e,q,0),c(e,q,1),c(e,q,2)];t.some(((e,t)=>e!==B[t]))&&(_.setOrientation(...t),B=t);const n=[c(e,q,3),c(e,q,4),c(e,q,5)];n.some(((e,t)=>e!==j[t]))&&(_.setPosition(...n),j=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const z={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(e){if(e>2)throw i();k.channelCount=e,_.channelCount=e},get channelCountMode(){return _.channelCountMode},set channelCountMode(e){if("max"===e)throw i();k.channelCountMode=e,_.channelCountMode=e},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(e){k.channelInterpretation=e,_.channelInterpretation=e},get coneInnerAngle(){return _.coneInnerAngle},set coneInnerAngle(e){_.coneInnerAngle=e},get coneOuterAngle(){return _.coneOuterAngle},set coneOuterAngle(e){_.coneOuterAngle=e},get coneOuterGain(){return _.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();_.coneOuterGain=e},get context(){return _.context},get distanceModel(){return _.distanceModel},set distanceModel(e){_.distanceModel=e},get inputs(){return[k]},get maxDistance(){return _.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;_.maxDistance=e},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return M.gain},get orientationZ(){return R.gain},get panningModel(){return _.panningModel},set panningModel(e){_.panningModel=e},get positionX(){return N.gain},get positionY(){return L.gain},get positionZ(){return P.gain},get refDistance(){return _.refDistance},set refDistance(e){if(e<0)throw new RangeError;_.refDistance=e},get rolloffFactor(){return _.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;_.rolloffFactor=e},addEventListener:(...e)=>k.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>k.dispatchEvent(e[0]),removeEventListener:(...e)=>k.removeEventListener(e[0],e[1],e[2])};return d!==z.coneInnerAngle&&(z.coneInnerAngle=d),h!==z.coneOuterAngle&&(z.coneOuterAngle=h),f!==z.coneOuterGain&&(z.coneOuterGain=f),p!==z.distanceModel&&(z.distanceModel=p),m!==z.maxDistance&&(z.maxDistance=m),v!==z.orientationX.value&&(z.orientationX.value=v),g!==z.orientationY.value&&(z.orientationY.value=g),y!==z.orientationZ.value&&(z.orientationZ.value=y),w!==z.panningModel&&(z.panningModel=w),b!==z.positionX.value&&(z.positionX.value=b),C!==z.positionY.value&&(z.positionY.value=C),E!==z.positionZ.value&&(z.positionZ.value=E),x!==z.refDistance&&(z.refDistance=x),T!==z.rolloffFactor&&(z.rolloffFactor=T),1===B[0]&&0===B[1]&&0===B[2]||_.setOrientation(...B),0===j[0]&&0===j[1]&&0===j[2]||_.setPosition(...j),u(Fe(z,_),(()=>{k.connect(_),e(k,F,0,0),F.connect(I).connect(O,0,0),F.connect(M).connect(O,0,1),F.connect(R).connect(O,0,2),F.connect(N).connect(O,0,3),F.connect(L).connect(O,0,4),F.connect(P).connect(O,0,5),O.connect(D).connect(l.destination)}),(()=>{k.disconnect(_),s(k,F,0,0),F.disconnect(I),I.disconnect(O),F.disconnect(M),M.disconnect(O),F.disconnect(R),R.disconnect(O),F.disconnect(N),N.disconnect(O),F.disconnect(L),L.disconnect(O),F.disconnect(P),P.disconnect(O),O.disconnect(D),D.disconnect(l.destination)}))})(G,Ee,en,je,Ue,Nn,We,$,$e,Kt),Pn=(e=>(t,n)=>{const r=t.createPanner();return void 0===r.orientationX?e(t,n):(ke(r,n),Me(r,n,"orientationX"),Me(r,n,"orientationY"),Me(r,n,"orientationZ"),Me(r,n,"positionX"),Me(r,n,"positionY"),Me(r,n,"positionZ"),Oe(r,n,"coneInnerAngle"),Oe(r,n,"coneOuterAngle"),Oe(r,n,"coneOuterGain"),Oe(r,n,"distanceModel"),Oe(r,n,"maxDistance"),Oe(r,n,"panningModel"),Oe(r,n,"refDistance"),Oe(r,n,"rolloffFactor"),r)})(Ln),Dn=((e,t,n,r,o,a,i,s,c,u)=>()=>{const l=new WeakMap;let d=null;return{render(h,f){const p=l.get(f);return void 0!==p?Promise.resolve(p):(async(h,f)=>{let p=null,m=a(h);const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},g={...v,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=O(m,f);if("bufferSize"in m)p=r(f,{...v,gain:1});else if(!y){const e={...g,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=o(f,e)}if(l.set(f,null===p?m:p),null!==p){if(null===d){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new i(6,h.context.length,f.sampleRate),r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(e.destination),d=(async()=>{const t=await Promise.all([h.orientationX,h.orientationY,h.orientationZ,h.positionX,h.positionY,h.positionZ].map((async(t,r)=>{const o=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await s(e,t,o.offset),o})));for(let e=0;e<6;e+=1)t[e].connect(r,0,e),t[e].start(0);return u(e)})()}const e=await d,a=r(f,{...v,gain:1});await c(h,f,a);const l=[];for(let t=0;t<e.numberOfChannels;t+=1)l.push(e.getChannelData(t));let m=[l[0][0],l[1][0],l[2][0]],y=[l[3][0],l[4][0],l[5][0]],w=r(f,{...v,gain:1}),b=o(f,{...g,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});a.connect(w).connect(b.inputs[0]),b.connect(p);for(let t=128;t<e.length;t+=128){const e=[l[0][t],l[1][t],l[2][t]],n=[l[3][t],l[4][t],l[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==y[t]))){m=e,y=n;const i=t/f.sampleRate;w.gain.setValueAtTime(0,i),w=r(f,{...v,gain:0}),b=o(f,{...g,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),w.gain.setValueAtTime(1,i),a.connect(w).connect(b.inputs[0]),b.connect(p)}}return p}return y?(await e(f,h.orientationX,m.orientationX),await e(f,h.orientationY,m.orientationY),await e(f,h.orientationZ,m.orientationZ),await e(f,h.positionX,m.positionX),await e(f,h.positionY,m.positionY),await e(f,h.positionZ,m.positionZ)):(await s(f,h.orientationX,m.orientationX),await s(f,h.orientationY,m.orientationY),await s(f,h.orientationZ,m.orientationZ),await s(f,h.positionX,m.positionX),await s(f,h.positionY,m.positionY),await s(f,h.positionZ,m.positionZ)),H(m)?await c(h,f,m.inputs[0]):await c(h,f,m),m})(h,f)}}})(zt,en,sn,je,Pn,J,bt,Wt,vt,Cn),Fn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,s){const c=o(e),u={...Ge,...s},l=n(c,u),d=a(c);super(e,!1,l,d?r():null),this._nativePannerNode=l,this._orientationX=t(this,d,l.orientationX,L,N),this._orientationY=t(this,d,l.orientationY,L,N),this._orientationZ=t(this,d,l.orientationZ,L,N),this._positionX=t(this,d,l.positionX,L,N),this._positionY=t(this,d,l.positionY,L,N),this._positionZ=t(this,d,l.positionZ,L,N),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(kt,Ht,Pn,Dn,yt,Ct,$t),Bn=(e=>(t,{disableNormalization:n,imag:r,real:o})=>{const a=r instanceof Float32Array?r:new Float32Array(r),i=o instanceof Float32Array?o:new Float32Array(o),s=t.createPeriodicWave(i,a,{disableNormalization:n});if(Array.from(r).length<2)throw e();return s})(I),jn=((e,t,n)=>class r{constructor(r,o){const a=t(r),i=(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})({...Xe,...o}),s=e(a,i);return n.add(s),s}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}})(Bn,yt,new WeakSet),qn=((e,t,n,r,o,a)=>{const i=16385,s=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...u,oversample:"none"},d=(e,a,d,h,f)=>{if(1===a)return((e,t,o,a)=>{const d=new Float32Array(i),h=new Float32Array(i);for(let e=0;e<i;e+=1){const t=e/16384*c;d[e]=Math.cos(t),h[e]=Math.sin(t)}const f=n(e,{...u,gain:0}),p=r(e,{...l,curve:d}),m=r(e,{...l,curve:s}),v=n(e,{...u,gain:0}),g=r(e,{...l,curve:h});return{connectGraph(){t.connect(f),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(v),m.connect(o),o.connect(void 0===p.inputs?p:p.inputs[0]),o.connect(void 0===g.inputs?g:g.inputs[0]),p.connect(f.gain),g.connect(v.gain),f.connect(a,0,0),v.connect(a,0,1)},disconnectGraph(){t.disconnect(f),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(v),m.disconnect(o),o.disconnect(void 0===p.inputs?p:p.inputs[0]),o.disconnect(void 0===g.inputs?g:g.inputs[0]),p.disconnect(f.gain),g.disconnect(v.gain),f.disconnect(a,0,0),v.disconnect(a,0,1)}}})(e,d,h,f);if(2===a)return((e,o,a,d)=>{const h=new Float32Array(i),f=new Float32Array(i),p=new Float32Array(i),m=new Float32Array(i),v=Math.floor(8192.5);for(let e=0;e<i;e+=1)if(e>v){const t=(e-v)/(16384-v)*c;h[e]=Math.cos(t),f[e]=Math.sin(t),p[e]=0,m[e]=1}else{const t=e/(16384-v)*c;h[e]=1,f[e]=0,p[e]=Math.cos(t),m[e]=Math.sin(t)}const g=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(e,{...u,gain:0}),w=r(e,{...l,curve:h}),b=n(e,{...u,gain:0}),C=r(e,{...l,curve:f}),E=r(e,{...l,curve:s}),x=n(e,{...u,gain:0}),T=r(e,{...l,curve:p}),A=n(e,{...u,gain:0}),_=r(e,{...l,curve:m});return{connectGraph(){o.connect(g),o.connect(void 0===E.inputs?E:E.inputs[0]),g.connect(y,0),g.connect(b,0),g.connect(x,1),g.connect(A,1),E.connect(a),a.connect(void 0===w.inputs?w:w.inputs[0]),a.connect(void 0===C.inputs?C:C.inputs[0]),a.connect(void 0===T.inputs?T:T.inputs[0]),a.connect(void 0===_.inputs?_:_.inputs[0]),w.connect(y.gain),C.connect(b.gain),T.connect(x.gain),_.connect(A.gain),y.connect(d,0,0),x.connect(d,0,0),b.connect(d,0,1),A.connect(d,0,1)},disconnectGraph(){o.disconnect(g),o.disconnect(void 0===E.inputs?E:E.inputs[0]),g.disconnect(y,0),g.disconnect(b,0),g.disconnect(x,1),g.disconnect(A,1),E.disconnect(a),a.disconnect(void 0===w.inputs?w:w.inputs[0]),a.disconnect(void 0===C.inputs?C:C.inputs[0]),a.disconnect(void 0===T.inputs?T:T.inputs[0]),a.disconnect(void 0===_.inputs?_:_.inputs[0]),w.disconnect(y.gain),C.disconnect(b.gain),T.disconnect(x.gain),_.disconnect(A.gain),y.disconnect(d,0,0),x.disconnect(d,0,0),b.disconnect(d,0,1),A.disconnect(d,0,1)}}})(e,d,h,f);throw o()};return(t,{channelCount:r,channelCountMode:i,pan:s,...c})=>{if("max"===i)throw o();const u=e(t,{...c,channelCount:1,channelCountMode:i,numberOfInputs:2}),l=n(t,{...c,channelCount:r,channelCountMode:i,gain:1}),h=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:s});let{connectGraph:f,disconnectGraph:p}=d(t,r,l,h,u);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"maxValue",{get:()=>1}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){l.channelCount!==e&&(v&&p(),({connectGraph:f,disconnectGraph:p}=d(t,e,l,h,u)),v&&f()),l.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw o();l.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){l.channelInterpretation=e},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return h.gain},addEventListener:(...e)=>l.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>l.dispatchEvent(e[0]),removeEventListener:(...e)=>l.removeEventListener(e[0],e[1],e[2])};let v=!1;return a(Fe(m,u),(()=>{f(),v=!0}),(()=>{p(),v=!1}))}})(en,De,je,Nn,We,Kt),zn=((e,t)=>(n,r)=>{const o=r.channelCountMode;if("clamped-max"===o)throw t();if(void 0===n.createStereoPanner)return e(n,r);const a=n.createStereoPanner();return ke(a,r),Me(a,r,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>o,set:e=>{if(e!==o)throw t()}}),a})(qn,We),Un=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const c=a.get(s);return void 0!==c?Promise.resolve(c):(async(i,s)=>{let c=n(i);const u=O(c,s);if(!u){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(s,e)}return a.set(s,c),u?await e(s,i.pan,c.pan):await r(s,i.pan,c.pan),H(c)?await o(i,s,c.inputs[0]):await o(i,s,c),c})(i,s)}}})(zt,zn,J,Wt,vt),Wn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=o(e),c={...Ye,...i},u=n(s,c),l=a(s);super(e,!1,u,l?r():null),this._pan=t(this,l,u.pan)}get pan(){return this._pan}})(kt,Ht,zn,Un,yt,Ct),Vn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=t(o);if(!O(i,a)){const t={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample};i=e(a,t)}return r.set(a,i),H(i)?await n(o,a,i.inputs[0]):await n(o,a,i),i})(o,a)}}})(Nn,J,vt),Hn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,t){const s=o(e),c={...Ze,...t},u=n(s,c);super(e,!0,u,a(s)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(kt,Ee,Nn,Vn,yt,Ct,$t),Gn=(e=>null!==e&&e.isSecureContext)(ft),Xn=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(ft),Yn=new WeakMap,Zn=((e,t)=>n=>{let r=e.get(n);if(void 0!==r)return r;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r})(Yn,bt),$n=Gn?((e,t,n,r,o,a,i,s,c,u,l,d,f)=>{let p=0;return(m,w,b={credentials:"omit"})=>{const C=l.get(m);if(void 0!==C&&C.has(w))return Promise.resolve();const E=u.get(m);if(void 0!==E){const e=E.get(w);if(void 0!==e)return e}const x=a(m),T=void 0===x.audioWorklet?o(w).then((([e,t])=>{const[r,o]=v(e,t);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${o}\n})})(window,'_AWGS')`)})).then((()=>{const e=f._AWGS.pop();if(void 0===e)throw new SyntaxError;r(x.currentTime,x.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const r=h.get(x);if(void 0!==r){if(r.has(e))throw t();y(n),g(n.parameterDescriptors),r.set(e,n)}else y(n),g(n.parameterDescriptors),h.set(x,new Map([[e,n]]))}),x.sampleRate,void 0,void 0)))})):Promise.all([o(w),Promise.resolve(e(d,d))]).then((([[e,t],n])=>{const r=p+1;p=r;const[o,a]=v(e,t),u=new Blob([`${o};((AudioWorkletProcessor,registerProcessor)=>{${a}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${r}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(u);return x.audioWorklet.addModule(l,b).then((()=>{if(s(x))return x;const e=i(x);return e.audioWorklet.addModule(l,b).then((()=>e))})).then((e=>{if(null===c)throw new SyntaxError;try{new c(e,`__sac${r}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(l)))}));return void 0===E?u.set(m,new Map([[w,T]])):E.set(w,T),T.then((()=>{const e=l.get(m);void 0===e?l.set(m,new Set([w])):e.add(w)})).finally((()=>{const e=u.get(m);void 0!==e&&e.delete(w)})),T}})(lt,We,(e=>t=>new Promise(((n,r)=>{if(null===e)return void r(new SyntaxError);const o=e.document.head;if(null===o)r(new SyntaxError);else{const a=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(i),c=e.onerror,u=()=>{e.onerror=c,URL.revokeObjectURL(s)};e.onerror=(t,n,o,a,i)=>n===s||n===e.location.href&&1===o&&1===a?(u(),r(i),!1):null!==c?c(t,n,o,a,i):void 0,a.onerror=()=>{u(),r(new SyntaxError)},a.onload=()=>{u(),n()},a.src=s,a.type="module",o.appendChild(a)}})))(ft),Xn,(async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw new DOMException("","AbortError")}),yt,Zn,Ct,Ot,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let a=!1,i=!1;try{await r.audioWorklet.addModule(o);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>a=!0,t.onprocessorerror=()=>i=!0,n.connect(t),n.start(0),await r.startRendering(),await new Promise((e=>setTimeout(e)))}catch{}finally{URL.revokeObjectURL(o)}return a&&!i})(Ot,bt),ft):void 0,Jn=((e,t)=>n=>e(n)||t(n))(At,Ct),Kn=((e,t,n,r,o,a,i,s,c,u,l)=>(n,r)=>{const d=i(n)?n:a(n);if(o.has(r)){const e=new DOMException("","DataCloneError");return Promise.reject(e)}try{o.add(r)}catch{}return t(c,(()=>c(d)))?d.decodeAudioData(r).then((n=>(ge(r).catch((()=>{})),t(s,(()=>s(n)))||l(n),e.add(n),n))):new Promise(((t,n)=>{const o=async()=>{try{await ge(r)}catch{}},a=e=>{n(e),o()};try{d.decodeAudioData(r,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),M(n)),e.add(n),o().then((()=>t(n)))}),(e=>{a(null===e?new DOMException("","EncodingError"):e)}))}catch(e){a(e)}}))})(Rt,lt,0,0,new WeakSet,yt,Jn,k,Se,Dt,Ft),Qn=((e,t,n,r,o,a,i,s,c,u,l,d,h,f,p,m,v,g,y,w)=>class extends p{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(e=6){return new a(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(e=1){return new l(this,{maxDelayTime:e})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(e,t){return new f(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new v(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new g(this,{...n,imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e)),(e=>{throw"function"==typeof n&&n(e),e}))}})($n,Mt,Bt,Xt,Jt,nn,on,un,hn,Kn,pn,gn,wn,Tn,Sn,In,Fn,jn,Wn,Hn),er=(((e,t,n,r)=>{})(kt,0,yt,Ct),((e,t,n,r)=>{})(kt,0,yt,Ct),((e,t,n,r)=>{})(kt,0,yt,Ct),((e,t)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),a=n.createMediaStreamSource(o);if("audio"!==r.kind)throw e();if(t(n))throw new TypeError;return a})(Ee,Ct)),tr=(((e,t,n)=>{})(kt,er,yt),(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(_n)),nr=((e=>{})(tr),(e=>(t,n,r=0,o=0)=>{const a=t[r];if(void 0===a)throw e();return re(n)?a.connect(n,0,o):a.connect(n,0)})(I)),rr=(e=>(t,n)=>{e(t).delete(n)})(tr),or=(e=>(t,n=void 0,r=void 0,o=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?we(e,t,n).disconnect():re(n)?void 0===r?t.forEach((e=>e.disconnect(n))):void 0===o?we(e,t,r).disconnect(n,0):we(e,t,r).disconnect(n,0,o):void 0===r?t.forEach((e=>e.disconnect(n))):we(e,t,r).disconnect(n,0))(I),ar=new WeakMap,ir=((e,t)=>n=>t(e,n))(ar,w),sr=((e,t,n,r,o,a,i,s,c,u,l,d,h)=>(p,m,v,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((e=>e<1)))throw c();if(y.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw c();const w=g.channelCount*g.numberOfInputs,b=y.reduce(((e,t)=>e+t),0),C=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length;if(w+C>6||b>6)throw c();const E=new MessageChannel,x=[],T=[];for(let e=0;e<g.numberOfInputs;e+=1)x.push(i(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),T.push(o(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const A=[];if(void 0!==v.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of v.parameterDescriptors){const o=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===e?0:e});Object.defineProperties(o.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?L:t},minValue:{get:()=>void 0===n?N:n}}),A.push(o)}const _=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+C)}),S=Le(m,p.sampleRate),O=s(p,S,w+C,Math.max(1,b)),k=o(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),I=[];for(let e=0;e<g.numberOfOutputs;e+=1)I.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<g.numberOfInputs;e+=1){x[e].connect(T[e]);for(let t=0;t<g.channelCount;t+=1)T[e].connect(_,t,e*g.channelCount+t)}const M=new se(void 0===v.parameterDescriptors?[]:v.parameterDescriptors.map((({name:e},t)=>{const n=A[t];return n.connect(_,0,w+t),n.start(0),[e,n.offset]})));_.connect(O);let R=g.channelInterpretation,P=null;const D=0===g.numberOfOutputs?[O]:I,F={get bufferSize(){return S},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return R},set channelInterpretation(e){for(const t of x)t.channelInterpretation=e;R=e},get context(){return O.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(e){"function"==typeof P&&F.removeEventListener("processorerror",P),P="function"==typeof e?e:null,"function"==typeof P&&F.addEventListener("processorerror",P)},get parameters(){return M},get port(){return E.port2},addEventListener:(...e)=>O.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,D),disconnect:u.bind(null,D),dispatchEvent:(...e)=>O.dispatchEvent(e[0]),removeEventListener:(...e)=>O.removeEventListener(e[0],e[1],e[2])},B=new Map;var j,q;E.port1.addEventListener=(j=E.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=B.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{l(p.currentTime,p.sampleRate,(()=>t(e)))},B.set(t,e[1]))}}return j.call(E.port1,e[0],e[1],e[2])}),E.port1.removeEventListener=(q=E.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=B.get(e[1]);void 0!==t&&(B.delete(e[1]),e[1]=t)}return q.call(E.port1,e[0],e[1],e[2])});let z=null;Object.defineProperty(E.port1,"onmessage",{get:()=>z,set:e=>{"function"==typeof z&&E.port1.removeEventListener("message",z),z="function"==typeof e?e:null,"function"==typeof z&&(E.port1.addEventListener("message",z),E.port1.start())}}),v.prototype.port=E.port1;let U=null;const W=((e,t,n,r)=>{let o=f.get(e);void 0===o&&(o=new WeakMap,f.set(e,o));const a=(async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:e})=>{r.close(),o.close(),t(e)},r.onmessageerror=({data:e})=>{r.close(),o.close(),n(e)},o.postMessage(e)})))(t);return new e(n)})(n,r);return o.set(t,a),a})(p,F,v,g);W.then((e=>U=e));const V=le(g.numberOfInputs,g.channelCount),H=le(g.numberOfOutputs,y),G=void 0===v.parameterDescriptors?[]:v.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let X=!0;const Y=()=>{g.numberOfOutputs>0&&O.disconnect(k);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=I[e];for(let r=0;r<y[e];r+=1)k.disconnect(n,t+r,r);t+=y[e]}},Z=new Map;O.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==U){const n=d(F);for(let r=0;r<S;r+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)ce(e,V[t],n,n,r);void 0!==v.parameterDescriptors&&v.parameterDescriptors.forEach((({name:t},n)=>{ce(e,G,t,w+n,r)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===H[e][t].byteLength&&(H[e][t]=new Float32Array(128));try{const e=V.map(((e,t)=>{if(n[t].size>0)return Z.set(t,S/128),e;const r=Z.get(t);return void 0===r?[]:(e.every((e=>e.every((e=>0===e))))&&(1===r?Z.delete(t):Z.set(t,r-1)),e)})),o=l(p.currentTime+r/p.sampleRate,p.sampleRate,(()=>U.process(e,H,G)));X=o;for(let e=0,n=0;e<g.numberOfOutputs;e+=1){for(let o=0;o<y[e];o+=1)ue(t,H[e],o,n+o,r);n+=y[e]}}catch(e){X=!1,F.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!X){for(let e=0;e<g.numberOfInputs;e+=1){x[e].disconnect(T[e]);for(let t=0;t<g.channelCount;t+=1)T[r].disconnect(_,t,e*g.channelCount+t)}if(void 0!==v.parameterDescriptors){const e=v.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=A[t];e.disconnect(_,0,w+t),e.stop()}}_.disconnect(O),O.onaudioprocess=null,$?Y():Q();break}}}};let $=!1;const J=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),K=()=>O.connect(J).connect(p.destination),Q=()=>{O.disconnect(J),J.disconnect()};return K(),h(F,(()=>{if(X){Q(),g.numberOfOutputs>0&&O.connect(k);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=I[e];for(let r=0;r<y[e];r+=1)k.connect(n,t+r,r);t+=y[e]}}$=!0}),(()=>{X&&(K(),Y()),$=!1}))})(nr,I,Ee,en,De,sn,je,Ue,We,or,Xn,ir,Kt),cr=(((e,t,n,r,o)=>{})(Ee,sr,je,We,Kt),((e,t,n,r,o,a,i,s,c,u,l,d,h,f,p,m)=>{})(zt,nr,Ut,en,De,sn,je,rr,or,Xn,J,Ot,bt,Wt,vt,Cn),(e=>{})(Yn),(e=>{})(ar),((e,t)=>(n,r,o)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,o)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(We,bt)),ur=((e,t,n,r,o,a,i,s)=>(c,u)=>n(c).render(c,u).then((()=>Promise.all(Array.from(r(u)).map((e=>n(e).render(e,u)))))).then((()=>o(u))).then((n=>("function"!=typeof n.copyFromChannel?(i(n),M(n)):t(a,(()=>a(n)))||s(n),e.add(n),n))))(Rt,lt,mt,tr,Cn,k,Dt,Ft),lr=((e,t,n,r,o)=>class extends e{constructor(e,n,o){let a;if("number"==typeof e&&void 0!==n&&void 0!==o)a={length:n,numberOfChannels:e,sampleRate:o};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");a=e}const{length:i,numberOfChannels:s,sampleRate:c}={...Ve,...a},u=r(s,i,c);t(Se,(()=>Se(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,s),this._length=i,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,j(this.destination,[])})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(Qn,lt,Ee,cr,ur),dr=(e,t,n)=>{const r=new lr(e.numberOfChannels,Math.round(n*e.sampleRate),e.sampleRate),o=r.createBiquadFilter(),a=r.createBufferSource();return o.frequency.value=240,o.type="lowpass",a.buffer=e,a.connect(o).connect(r.destination),a.start(0,t,n),r.startRendering().then((e=>({channelData:e.getChannelData(0),sampleRate:e.sampleRate})))},hr=(()=>{let e=null;return()=>{if(null!==e)return e;const n=new Blob(['(()=>{"use strict";const e=(e,t,s)=>{const o=e.length,n=[];let a=!1;for(let r=0;r<o;r+=1)e[r]>t?a=!0:a&&(a=!1,n.push(r-1),r+=s/4-1);return a&&n.push(o-1),n},t=(t,s,o)=>{const n=(e=>{let t=0;const s=e.length;for(let o=0;o<s;o+=1)e[o]>t&&(t=e[o]);return t})(t),a=.3*n;let r=[],l=n-.05*n;if(n>.25)for(;r.length<30&&l>=a;)r=e(t,l,s),l-=.05*n;const p=(e=>{const t=[];return e.forEach(((s,o)=>{const n=Math.min(e.length-o,10);for(let a=1;a<n;a+=1){const n=e[o+a]-s;t.some((e=>e.interval===n&&(e.peaks.push(s),!0)))||t.push({interval:n,peaks:[s]})}})),t})(r),h=((e,t,s={})=>{var o,n;const a=Math.max(0,null!==(o=s.maxTempo)&&void 0!==o?o:180),r=Math.max(0,null!==(n=s.minTempo)&&void 0!==n?n:90),l=[];return e.forEach((e=>{let s=60/(e.interval/t);for(;s<r;)s*=2;for(;s>a;)s/=2;if(s<r)return;let o=!1,n=e.peaks.length;l.forEach((t=>{if(t.tempo===s&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],o=!0),t.tempo>s-.5&&t.tempo<s+.5){const o=2*Math.abs(t.tempo-s);n+=(1-o)*t.peaks.length,t.score+=(1-o)*e.peaks.length}})),o||l.push({peaks:e.peaks,score:n,tempo:s})})),l})(p,s,o);return h.sort(((e,t)=>t.score-e.score)),h};addEventListener("message",(({data:e})=>{try{if("analyze"===e.method){const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,r=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");return n[0].tempo})(o,n,a);postMessage({error:null,id:s,result:{tempo:r}})}else{if("guess"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,{bpm:r,offset:l,tempo:p}=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");const{peaks:a,tempo:r}=n[0],l=Math.round(r),p=60/l;a.sort(((e,t)=>e-t));let h=a[0]/s;for(;h>p;)h-=p;return{bpm:l,offset:h,tempo:r}})(o,n,a);postMessage({error:null,id:s,result:{bpm:r,offset:l,tempo:p}})}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(n);return e=(e=>{const n=new Worker(e),r=new Set;return{analyze:(...e)=>{var o;const[a,i,s]=e,c="number"==typeof i?i:0,u="number"==typeof s?s:a.duration-c,l="object"==typeof i?i:"object"==typeof s?s:null!==(o=e[3])&&void 0!==o?o:null;return new Promise((async(e,o)=>{const{channelData:i,sampleRate:s}=await dr(a,c,u),d=(0,t.addUniqueNumber)(r),h=({data:t})=>{t.id===d&&(r.delete(d),n.removeEventListener("message",h),null===t.error?e(t.result.tempo):o(new Error(t.error.message)))};n.addEventListener("message",h),n.postMessage({id:d,method:"analyze",params:{channelData:i,sampleRate:s,...null===l?l:{tempoSettings:l}}},[i.buffer])}))},guess:(...e)=>{var o;const[a,i,s]=e,c="number"==typeof i?i:0,u="number"==typeof s?s:a.duration-c,l="object"==typeof i?i:"object"==typeof s?s:null!==(o=e[3])&&void 0!==o?o:null;return new Promise((async(e,o)=>{const{channelData:i,sampleRate:s}=await dr(a,c,u),d=(0,t.addUniqueNumber)(r),h=({data:t})=>{t.id===d&&(r.delete(d),n.removeEventListener("message",h),null===t.error?e(t.result):o(new Error(t.error.message)))};n.addEventListener("message",h),n.postMessage({id:d,method:"guess",params:{channelData:i,sampleRate:s,...null===l?l:{tempoSettings:l}}},[i.buffer])}))}}})(r),setTimeout((()=>URL.revokeObjectURL(r))),e}})(),fr=(...e)=>hr().guess(...e);function pr(e,t){return function(){return e.apply(t,arguments)}}const{toString:mr}=Object.prototype,{getPrototypeOf:vr}=Object,gr=(yr=Object.create(null),e=>{const t=mr.call(e);return yr[t]||(yr[t]=t.slice(8,-1).toLowerCase())});var yr;const wr=e=>(e=e.toLowerCase(),t=>gr(t)===e),br=e=>t=>typeof t===e,{isArray:Cr}=Array,Er=br("undefined"),xr=wr("ArrayBuffer"),Tr=br("string"),Ar=br("function"),_r=br("number"),Sr=e=>null!==e&&"object"==typeof e,Or=e=>{if("object"!==gr(e))return!1;const t=vr(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},kr=wr("Date"),Ir=wr("File"),Mr=wr("Blob"),Rr=wr("FileList"),Nr=wr("URLSearchParams"),[Lr,Pr,Dr,Fr]=["ReadableStream","Request","Response","Headers"].map(wr);function Br(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),Cr(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let i;for(r=0;r<a;r++)i=o[r],t.call(null,e[i],i,e)}}function jr(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const qr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,zr=e=>!Er(e)&&e!==qr,Ur=(Wr="undefined"!=typeof Uint8Array&&vr(Uint8Array),e=>Wr&&e instanceof Wr);var Wr;const Vr=wr("HTMLFormElement"),Hr=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Gr=wr("RegExp"),Xr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Br(n,((n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)})),Object.defineProperties(e,r)},Yr="abcdefghijklmnopqrstuvwxyz",Zr="0123456789",$r={DIGIT:Zr,ALPHA:Yr,ALPHA_DIGIT:Yr+Yr.toUpperCase()+Zr},Jr=wr("AsyncFunction"),Kr=(Qr="function"==typeof setImmediate,eo=Ar(qr.postMessage),Qr?setImmediate:eo?(to=`axios@${Math.random()}`,no=[],qr.addEventListener("message",(({source:e,data:t})=>{e===qr&&t===to&&no.length&&no.shift()()}),!1),e=>{no.push(e),qr.postMessage(to,"*")}):e=>setTimeout(e));var Qr,eo,to,no;const ro="undefined"!=typeof queueMicrotask?queueMicrotask.bind(qr):"undefined"!=typeof process&&process.nextTick||Kr,oo={isArray:Cr,isArrayBuffer:xr,isBuffer:function(e){return null!==e&&!Er(e)&&null!==e.constructor&&!Er(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ar(e.append)&&("formdata"===(t=gr(e))||"object"===t&&Ar(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xr(e.buffer),t},isString:Tr,isNumber:_r,isBoolean:e=>!0===e||!1===e,isObject:Sr,isPlainObject:Or,isReadableStream:Lr,isRequest:Pr,isResponse:Dr,isHeaders:Fr,isUndefined:Er,isDate:kr,isFile:Ir,isBlob:Mr,isRegExp:Gr,isFunction:Ar,isStream:e=>Sr(e)&&Ar(e.pipe),isURLSearchParams:Nr,isTypedArray:Ur,isFileList:Rr,forEach:Br,merge:function e(){const{caseless:t}=zr(this)&&this||{},n={},r=(r,o)=>{const a=t&&jr(n,o)||o;Or(n[a])&&Or(r)?n[a]=e(n[a],r):Or(r)?n[a]=e({},r):Cr(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Br(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Br(t,((t,r)=>{n&&Ar(t)?e[r]=pr(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&vr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gr,kindOfTest:wr,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Cr(e))return e;let t=e.length;if(!_r(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Vr,hasOwnProperty:Hr,hasOwnProp:Hr,reduceDescriptors:Xr,freezeMethods:e=>{Xr(e,((t,n)=>{if(Ar(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ar(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Cr(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:jr,global:qr,isContextDefined:zr,ALPHABET:$r,generateString:(e=16,t=$r.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ar(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Sr(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=Cr(e)?[]:{};return Br(e,((e,t)=>{const a=n(e,r+1);!Er(a)&&(o[t]=a)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Jr,isThenable:e=>e&&(Sr(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),setImmediate:Kr,asap:ro};function ao(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}oo.inherits(ao,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oo.toJSONObject(this.config),code:this.code,status:this.status}}});const io=ao.prototype,so={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{so[e]={value:e}})),Object.defineProperties(ao,so),Object.defineProperty(io,"isAxiosError",{value:!0}),ao.from=(e,t,n,r,o,a)=>{const i=Object.create(io);return oo.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ao.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const co=ao;function uo(e){return oo.isPlainObject(e)||oo.isArray(e)}function lo(e){return oo.endsWith(e,"[]")?e.slice(0,-2):e}function ho(e,t,n){return e?e.concat(t).map((function(e,t){return e=lo(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const fo=oo.toFlatObject(oo,{},null,(function(e){return/^is[A-Z]/.test(e)})),po=function(e,t,n){if(!oo.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=oo.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oo.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&oo.isSpecCompliantForm(t);if(!oo.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(oo.isDate(e))return e.toISOString();if(!s&&oo.isBlob(e))throw new co("Blob is not supported. Use a Buffer instead.");return oo.isArrayBuffer(e)||oo.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(oo.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(oo.isArray(e)&&function(e){return oo.isArray(e)&&!e.some(uo)}(e)||(oo.isFileList(e)||oo.endsWith(n,"[]"))&&(s=oo.toArray(e)))return n=lo(n),s.forEach((function(e,r){!oo.isUndefined(e)&&null!==e&&t.append(!0===i?ho([n],r,a):null===i?n:n+"[]",c(e))})),!1;return!!uo(e)||(t.append(ho(o,n,a),c(e)),!1)}const l=[],d=Object.assign(fo,{defaultVisitor:u,convertValue:c,isVisitable:uo});if(!oo.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!oo.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),oo.forEach(n,(function(n,a){!0===(!(oo.isUndefined(n)||null===n)&&o.call(t,n,oo.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function mo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function vo(e,t){this._pairs=[],e&&po(e,this,t)}const go=vo.prototype;go.append=function(e,t){this._pairs.push([e,t])},go.toString=function(e){const t=e?function(t){return e.call(this,t,mo)}:mo;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const yo=vo;function wo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bo(e,t,n){if(!t)return e;const r=n&&n.encode||wo;oo.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(a=o?o(t,n):oo.isURLSearchParams(t)?t.toString():new yo(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Co=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oo.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Eo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xo={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:yo,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},To="undefined"!=typeof window&&"undefined"!=typeof document,Ao="object"==typeof navigator&&navigator||void 0,_o=To&&(!Ao||["ReactNative","NativeScript","NS"].indexOf(Ao.product)<0),So="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Oo=To&&window.location.href||"http://localhost",ko={...e,...xo},Io=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;return a=!a&&oo.isArray(r)?r.length:a,s?(oo.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i):(r[a]&&oo.isObject(r[a])||(r[a]=[]),t(e,n,r[a],o)&&oo.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i)}if(oo.isFormData(e)&&oo.isFunction(e.entries)){const n={};return oo.forEachEntry(e,((e,r)=>{t(function(e){return oo.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},Mo={transitional:Eo,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=oo.isObject(e);if(o&&oo.isHTMLForm(e)&&(e=new FormData(e)),oo.isFormData(e))return r?JSON.stringify(Io(e)):e;if(oo.isArrayBuffer(e)||oo.isBuffer(e)||oo.isStream(e)||oo.isFile(e)||oo.isBlob(e)||oo.isReadableStream(e))return e;if(oo.isArrayBufferView(e))return e.buffer;if(oo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return po(e,new ko.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ko.isNode&&oo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=oo.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return po(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(oo.isString(e))try{return(0,JSON.parse)(e),oo.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Mo.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(oo.isResponse(e)||oo.isReadableStream(e))return e;if(e&&oo.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw co.from(e,co.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ko.classes.FormData,Blob:ko.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oo.forEach(["delete","get","head","post","put","patch"],(e=>{Mo.headers[e]={}}));const Ro=Mo,No=oo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lo=Symbol("internals");function Po(e){return e&&String(e).trim().toLowerCase()}function Do(e){return!1===e||null==e?e:oo.isArray(e)?e.map(Do):String(e)}function Fo(e,t,n,r,o){return oo.isFunction(r)?r.call(this,t,n):(o&&(t=n),oo.isString(t)?oo.isString(r)?-1!==t.indexOf(r):oo.isRegExp(r)?r.test(t):void 0:void 0)}class Bo{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=Po(t);if(!o)throw new Error("header name must be a non-empty string");const a=oo.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Do(e))}const a=(e,t)=>oo.forEach(e,((e,n)=>o(e,n,t)));if(oo.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(oo.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&No[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(oo.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=Po(e)){const n=oo.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(oo.isFunction(t))return t.call(this,e,n);if(oo.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Po(e)){const n=oo.findKey(this,e);return!(!n||void 0===this[n]||t&&!Fo(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=Po(e)){const o=oo.findKey(n,e);!o||t&&!Fo(0,n[o],o,t)||(delete n[o],r=!0)}}return oo.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Fo(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return oo.forEach(this,((r,o)=>{const a=oo.findKey(n,o);if(a)return t[a]=Do(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=Do(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oo.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&oo.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Lo]=this[Lo]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Po(e);t[r]||(function(e,t){const n=oo.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return oo.isArray(e)?e.forEach(r):r(e),this}}Bo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oo.reduceDescriptors(Bo.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),oo.freezeMethods(Bo);const jo=Bo;function qo(e,t){const n=this||Ro,r=t||n,o=jo.from(r.headers);let a=r.data;return oo.forEach(e,(function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function zo(e){return!(!e||!e.__CANCEL__)}function Uo(e,t,n){co.call(this,null==e?"canceled":e,co.ERR_CANCELED,t,n),this.name="CanceledError"}oo.inherits(Uo,co,{__CANCEL__:!0});const Wo=Uo;function Vo(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new co("Request failed with status code "+n.status,[co.ERR_BAD_REQUEST,co.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ho=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=r[i];o||(o=c),n[a]=s,r[a]=c;let l=i,d=0;for(;l!==a;)d+=n[l++],l%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,o=0,a=1e3/t;const i=(t,a=Date.now())=>{o=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=a?i(e,t):(n=e,r||(r=setTimeout((()=>{r=null,i(n)}),a-s)))},()=>n&&i(n)]}((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-r,c=o(s);r=a,e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:c||void 0,estimated:c&&i&&a<=i?(i-a)/c:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Go=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Xo=e=>(...t)=>oo.asap((()=>e(...t))),Yo=ko.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ko.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ko.origin),ko.navigator&&/(msie|trident)/i.test(ko.navigator.userAgent)):()=>!0,Zo=ko.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];oo.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),oo.isString(r)&&i.push("path="+r),oo.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function $o(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Jo=e=>e instanceof jo?{...e}:e;function Ko(e,t){t=t||{};const n={};function r(e,t,n,r){return oo.isPlainObject(e)&&oo.isPlainObject(t)?oo.merge.call({caseless:r},e,t):oo.isPlainObject(t)?oo.merge({},t):oo.isArray(t)?t.slice():t}function o(e,t,n,o){return oo.isUndefined(t)?oo.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function a(e,t){if(!oo.isUndefined(t))return r(void 0,t)}function i(e,t){return oo.isUndefined(t)?oo.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>o(Jo(e),Jo(t),0,!0)};return oo.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||o,i=a(e[r],t[r],r);oo.isUndefined(i)&&a!==s||(n[r]=i)})),n}const Qo=e=>{const t=Ko({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:c}=t;if(t.headers=s=jo.from(s),t.url=bo($o(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),oo.isFormData(r))if(ko.hasStandardBrowserEnv||ko.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ko.hasStandardBrowserEnv&&(o&&oo.isFunction(o)&&(o=o(t)),o||!1!==o&&Yo(t.url))){const e=a&&i&&Zo.read(i);e&&s.set(a,e)}return t},ea="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Qo(e);let o=r.data;const a=jo.from(r.headers).normalize();let i,s,c,u,l,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){u&&u(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=jo.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Vo((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new co("Request aborted",co.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new co("Network Error",co.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Eo;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new co(t,o.clarifyTimeoutError?co.ETIMEDOUT:co.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&oo.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),oo.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([c,l]=Ho(f,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,u]=Ho(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Wo(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===ko.protocols.indexOf(g)?n(new co("Unsupported protocol "+g+":",co.ERR_BAD_REQUEST,e)):m.send(o||null)}))},ta=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof co?t:new Wo(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new co(`timeout ${t} of ms exceeded`,co.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>oo.asap(i),s}},na=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},ra=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*na(n,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},oa="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,aa=oa&&"function"==typeof ReadableStream,ia=oa&&("function"==typeof TextEncoder?(sa=new TextEncoder,e=>sa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var sa;const ca=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ua=aa&&ca((()=>{let e=!1;const t=new Request(ko.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),la=aa&&ca((()=>oo.isReadableStream(new Response("").body))),da={stream:la&&(e=>e.body)};var ha;oa&&(ha=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!da[e]&&(da[e]=oo.isFunction(ha[e])?t=>t[e]():(t,n)=>{throw new co(`Response type '${e}' is not supported`,co.ERR_NOT_SUPPORT,n)})})));const fa={http:null,xhr:ea,fetch:oa&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:h}=Qo(e);u=u?(u+"").toLowerCase():"text";let f,p=ta([o,a&&a.toAbortSignal()],i);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(c&&ua&&"get"!==n&&"head"!==n&&0!==(v=await(async(e,t)=>{const n=oo.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(oo.isBlob(e))return e.size;if(oo.isSpecCompliantForm(e)){const t=new Request(ko.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return oo.isArrayBufferView(e)||oo.isArrayBuffer(e)?e.byteLength:(oo.isURLSearchParams(e)&&(e+=""),oo.isString(e)?(await ia(e)).byteLength:void 0)})(t):n})(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(oo.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=Go(v,Ho(Xo(c)));r=ra(n.body,65536,e,t)}}oo.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let a=await fetch(f);const i=la&&("stream"===u||"response"===u);if(la&&(s||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=oo.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&Go(t,Ho(Xo(s),!0))||[];a=new Response(ra(a.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let g=await da[oo.findKey(da,u)||"text"](a,e);return!i&&m&&m(),await new Promise(((t,n)=>{Vo(t,n,{data:g,headers:jo.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new co("Network Error",co.ERR_NETWORK,e,f),{cause:t.cause||t});throw co.from(t,t&&t.code,e,f)}})};oo.forEach(fa,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const pa=e=>`- ${e}`,ma=e=>oo.isFunction(e)||null===e||!1===e,va=e=>{e=oo.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!ma(n)&&(r=fa[(t=String(n)).toLowerCase()],void 0===r))throw new co(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+a]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(pa).join("\n"):" "+pa(e[0]):"as no adapter specified";throw new co("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ga(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wo(null,e)}function ya(e){return ga(e),e.headers=jo.from(e.headers),e.data=qo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),va(e.adapter||Ro.adapter)(e).then((function(t){return ga(e),t.data=qo.call(e,e.transformResponse,t),t.headers=jo.from(t.headers),t}),(function(t){return zo(t)||(ga(e),t&&t.response&&(t.response.data=qo.call(e,e.transformResponse,t.response),t.response.headers=jo.from(t.response.headers))),Promise.reject(t)}))}const wa={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{wa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ba={};wa.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new co(r(o," has been removed"+(t?" in "+t:"")),co.ERR_DEPRECATED);return t&&!ba[o]&&(ba[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}},wa.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Ca={assertOptions:function(e,t,n){if("object"!=typeof e)throw new co("options must be an object",co.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new co("option "+a+" must be "+n,co.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new co("Unknown option "+a,co.ERR_BAD_OPTION)}},validators:wa},Ea=Ca.validators;class xa{constructor(e){this.defaults=e,this.interceptors={request:new Co,response:new Co}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ko(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Ca.assertOptions(n,{silentJSONParsing:Ea.transitional(Ea.boolean),forcedJSONParsing:Ea.transitional(Ea.boolean),clarifyTimeoutError:Ea.transitional(Ea.boolean)},!1),null!=r&&(oo.isFunction(r)?t.paramsSerializer={serialize:r}:Ca.assertOptions(r,{encode:Ea.function,serialize:Ea.function},!0)),Ca.assertOptions(t,{baseUrl:Ea.spelling("baseURL"),withXsrfToken:Ea.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&oo.merge(o.common,o[t.method]);o&&oo.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=jo.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,d=0;if(!s){const e=[ya.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);d<l;)u=u.then(e[d++],e[d++]);return u}l=i.length;let h=t;for(d=0;d<l;){const e=i[d++],t=i[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{u=ya.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,l=c.length;d<l;)u=u.then(c[d++],c[d++]);return u}getUri(e){return bo($o((e=Ko(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}oo.forEach(["delete","get","head","options"],(function(e){xa.prototype[e]=function(t,n){return this.request(Ko(n||{},{method:e,url:t,data:(n||{}).data}))}})),oo.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Ko(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}xa.prototype[e]=t(),xa.prototype[e+"Form"]=t(!0)}));const Ta=xa;class Aa{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Wo(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Aa((function(t){e=t})),cancel:e}}}const _a=Aa,Sa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sa).forEach((([e,t])=>{Sa[t]=e}));const Oa=Sa,ka=function e(t){const n=new Ta(t),r=pr(Ta.prototype.request,n);return oo.extend(r,Ta.prototype,n,{allOwnKeys:!0}),oo.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ko(t,n))},r}(Ro);ka.Axios=Ta,ka.CanceledError=Wo,ka.CancelToken=_a,ka.isCancel=zo,ka.VERSION="1.7.8",ka.toFormData=po,ka.AxiosError=co,ka.Cancel=ka.CanceledError,ka.all=function(e){return Promise.all(e)},ka.spread=function(e){return function(t){return e.apply(null,t)}},ka.isAxiosError=function(e){return oo.isObject(e)&&!0===e.isAxiosError},ka.mergeConfig=Ko,ka.AxiosHeaders=jo,ka.formToJSON=e=>Io(oo.isHTMLForm(e)?new FormData(e):e),ka.getAdapter=va,ka.HttpStatusCode=Oa,ka.default=ka;const Ia=ka,{Axios:Ma,AxiosError:Ra,CanceledError:Na,isCancel:La,CancelToken:Pa,VERSION:Da,all:Fa,Cancel:Ba,isAxiosError:ja,spread:qa,toFormData:za,AxiosHeaders:Ua,HttpStatusCode:Wa,formToJSON:Va,getAdapter:Ha,mergeConfig:Ga}=Ia,Xa=e=>{let{max:t,onEviction:n}=e;if(!(Number.isInteger(t)&&t>0))throw new TypeError("`max` must be a positive integer");let r=0,o=0,a=0,i=[];const s=new Map,c=new Array(t).fill(void 0),u=new Array(t).fill(void 0),l=new Array(t).fill(0),d=new Array(t).fill(0),h=(e,t)=>{if(e===a)return;const n=l[e],r=d[e];e===o?o=n:"get"!==t&&0===r||(l[r]=n),0!==n&&(d[n]=r),l[a]=e,d[e]=a,l[e]=0,a=e},f=()=>{const e=o,t=c[e];return null==n||n(t,u[e]),s.delete(t),c[e]=void 0,u[e]=void 0,o=l[e],0!==o&&(d[o]=0),r--,0===r&&(o=a=0),i.push(e),e};return{set(e,l){if(void 0===e)return;let d=s.get(e);void 0===d?(d=r===t?f():i.length>0?i.pop():r,s.set(e,d),c[d]=e,r++):null==n||n(e,u[d]),u[d]=l,1===r?o=a=d:h(d,"set")},get(e){const t=s.get(e);if(void 0!==t)return t!==a&&h(t,"get"),u[t]},peek:e=>{const t=s.get(e);return void 0!==t?u[t]:void 0},has:e=>s.has(e),*keys(){let e=a;for(let t=0;t<r;t++)yield c[e],e=d[e]},*values(){let e=a;for(let t=0;t<r;t++)yield u[e],e=d[e]},*entries(){let e=a;for(let t=0;t<r;t++)yield[c[e],u[e]],e=d[e]},forEach:e=>{let t=a;for(let n=0;n<r;n++){const n=c[t];e(u[t],n),t=d[t]}},delete(e){const t=s.get(e);if(void 0===t)return!1;null==n||n(e,u[t]),s.delete(e),i.push(t),c[t]=void 0,u[t]=void 0;const h=d[t],f=l[t];return 0!==h&&(l[h]=f),0!==f&&(d[f]=h),t===o&&(o=f),t===a&&(a=h),r--,!0},evict:e=>{let t=Math.min(e,r);for(;t>0;)f(),t--},clear(){if("function"==typeof n){const e=s.values();for(let t=e.next();!t.done;t=e.next())n(c[t.value],u[t.value])}s.clear(),c.fill(void 0),u.fill(void 0),i=[],r=0,o=a=0},resize:e=>{if(!(Number.isInteger(e)&&e>0))throw new TypeError("`max` must be a positive integer");if(e!==t){if(e<t){let t=a;const h=Math.min(r,e),f=r-h,p=new Array(e),m=new Array(e),v=new Array(e),g=new Array(e);for(let e=1;e<=f;e++)null==n||n(c[e],u[e]);for(let e=h-1;e>=0;e--)p[e]=c[t],m[e]=u[t],v[e]=e+1,g[e]=e-1,s.set(p[e],e),t=d[t];o=0,a=h-1,r=h,c.length=e,u.length=e,l.length=e,d.length=e;for(let e=0;e<h;e++)c[e]=p[e],u[e]=m[e],l[e]=v[e],d[e]=g[e];i=[];for(let t=h;t<e;t++)i.push(t)}else{const n=e-t;c.push(...new Array(n).fill(void 0)),u.push(...new Array(n).fill(void 0)),l.push(...new Array(n).fill(0)),d.push(...new Array(n).fill(0))}t=e}},get max(){return t},get size(){return r},get available(){return t-r}}};var Ya=o(111);const Za="axios-retry";function $a(e){return!e.response&&!!e.code&&!["ERR_CANCELED","ECONNABORTED"].includes(e.code)&&Ya(e)}const Ja=["get","head","options"],Ka=Ja.concat(["put","delete"]);function Qa(e){return"ECONNABORTED"!==e.code&&(!e.response||429===e.response.status||e.response.status>=500&&e.response.status<=599)}function ei(e){return!!e.config?.method&&Qa(e)&&-1!==Ka.indexOf(e.config.method)}function ti(e){return $a(e)||ei(e)}function ni(e=void 0){const t=e?.response?.headers["retry-after"];if(!t)return 0;let n=1e3*(Number(t)||0);return 0===n&&(n=(new Date(t).valueOf()||0)-Date.now()),Math.max(0,n)}const ri={retries:3,retryCondition:ti,retryDelay:function(e=0,t=void 0){return Math.max(0,ni(t))},shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function oi(e,t,n=!1){const r=function(e,t){return{...ri,...t,...e[Za]}}(e,t||{});return r.retryCount=r.retryCount||0,r.lastRequestTime&&!n||(r.lastRequestTime=Date.now()),e[Za]=r,r}const ai=(e,t)=>{const n=e.interceptors.request.use((e=>(oi(e,t,!0),e[Za]?.validateResponse&&(e.validateStatus=()=>!1),e))),r=e.interceptors.response.use(null,(async n=>{const{config:r}=n;if(!r)return Promise.reject(n);const o=oi(r,t);return n.response&&o.validateResponse?.(n.response)?n.response:await async function(e,t){const{retries:n,retryCondition:r}=e,o=(e.retryCount||0)<n&&r(t);if("object"==typeof o)try{return!1!==await o}catch(e){return!1}return o}(o,n)?async function(e,t,n,r){t.retryCount+=1;const{retryDelay:o,shouldResetTimeout:a,onRetry:i}=t,s=o(t.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!a&&r.timeout&&t.lastRequestTime){const e=Date.now()-t.lastRequestTime,o=r.timeout-e-s;if(o<=0)return Promise.reject(n);r.timeout=o}return r.transformRequest=[e=>e],await i(t.retryCount,n,r),r.signal?.aborted?Promise.resolve(e(r)):new Promise((t=>{const n=()=>{clearTimeout(o),t(e(r))},o=setTimeout((()=>{t(e(r)),r.signal?.removeEventListener&&r.signal.removeEventListener("abort",n)}),s);r.signal?.addEventListener&&r.signal.addEventListener("abort",n,{once:!0})}))}(e,o,n,r):(await async function(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}(o,n),Promise.reject(n))}));return{requestInterceptorId:n,responseInterceptorId:r}};function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return(t=function(e){var t=function(e){if("object"!=ii(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ii(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ai.isNetworkError=$a,ai.isSafeRequestError=function(e){return!!e.config?.method&&Qa(e)&&-1!==Ja.indexOf(e.config.method)},ai.isIdempotentRequestError=ei,ai.isNetworkOrIdempotentRequestError=ti,ai.exponentialDelay=function(e=0,t=void 0,n=100){const r=2**e*n,o=Math.max(r,ni(t));return o+.2*o*Math.random()},ai.linearDelay=function(e=100){return(t=0,n=void 0)=>{const r=t*e;return Math.max(r,ni(n))}},ai.isRetryableError=Qa,ai(Ia,{retries:3,retryDelay:ai.exponentialDelay,retryCondition:function(e){var t;return 503===(null===(t=e.response)||void 0===t?void 0:t.status)||"ECONNABORTED"===e.code}});var li={method:"GET",headers:{Accept:"*/*","Accept-Language":"zh-CN,zh;q=0.8"},timeout:3e4,compress:!0},di={method:"GET",timeout:8e3,headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",Referer:"https://music.163.com"}},hi=Xa({max:15e4,onEviction:function(e,t){console.log('Key "'.concat(e,'" with value "').concat(t,'" has been evicted.'))}}),fi=Xa({max:15e4,onEviction:function(e,t){console.log('Key "'.concat(e,'" with value "').concat(t,'" has been evicted.'))}});function pi(e,t){return e.has(t)?e.get(t):null}function mi(e,t,n){e.set(t,n)}function vi(e){return new Promise((function(t,n){try{var r={s:e.query,type:1,limit:e.limit?Math.max(1,Math.min(e.limit,100)):10,offset:e.offset?Math.max(0,e.offset):0,total:!0},o="music_s_".concat(r.s,"_limit_").concat(r.limit,"_offset_").concat(r.offset),a=pi(fi,o);if(a)return void t(a);Ia.get("https://music.163.com/api/search/get/web",ci({params:r},di)).then((function(e){var n=JSON.stringify(e.data).songs;mi(fi,o,n),t(n)})).catch((function(e){e.response?console.error("Server responded with an error:",e.response.status,e.response.data):e.request?console.error("Request was made but no response was received:",e.request):console.error("Error setting up the request:",e.message),n(e)}))}catch(e){n(e)}}))}function gi(e){return new Promise((function(t,n){try{e.id=e.id,e.type=e.type||"json",e.level=e.level||"standard",function(e){if(!e.id)throw new Error("Song ID is required");if(e.type&&!["json","mp3","pic","mv","lyric"].includes(e.type))throw new Error("Invalid type parameter");if(e.level&&!["standard","exhigh","lossless","hires","jyeffect","sky","jymaster"].includes(e.level))throw new Error("Invalid level parameter");if("string"!=typeof e.id||!/^\d+$/.test(e.id))throw new Error("Invalid song ID format")}(e);var r="music_id_".concat(e.id,"_type_").concat(e.type,"_level_").concat(e.level),o=pi(hi,r);if(o)return void t(o);Ia.get("https://api.cenguigui.cn/api/netease/music_v1.php",ci({params:e},li)).then((function(e){var o=e.data;null!==o.name?(mi(hi,r,o),t(o)):n(new Error("Invalid song data,"+o.url))})).catch((function(e){e.response?console.error("Server responded with an error:",e.response.status,e.response.data):e.request?console.error("Request was made but no response was received:",e.request):console.error("Error setting up the request:",e.message),n(e)}))}catch(e){n(e)}}))}function yi(e){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(e)}function wi(){wi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new I(r||[]);return o(i,"_invoke",{value:_(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function w(){}var b={};u(b,i,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(M([])));E&&E!==n&&r.call(E,i)&&(b=E);var x=w.prototype=g.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function _(t,n,r){var o=h;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=S(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?m:f,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(yi(t)+" is not iterable")}return y.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},T(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new A(l(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||Ei(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ei(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Ei(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ii(r.key),r)}}function _i(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e,t,n){return(t=Ii(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e){var t=function(e){if("object"!=yi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yi(t)?t:t+""}function Mi(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Mi(a,r,o,i,s,"next",e)}function s(e){Mi(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Ni(){return Li.apply(this,arguments)}function Li(){return(Li=Ri(wi().mark((function e(){var t,n,r;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){try{var t=e.match(/\.([a-zA-Z0-9]+)(?:[\?#]|$)/);return t?t[1]:"json"}catch(e){return console.error("Error extracting language from URL:",e),"json"}};try{n=Array.from(document.querySelectorAll("pre")),r=document.createDocumentFragment(),n.forEach((function(e){if(!e.querySelector("code")){var n=t(location.href);if(/^[a-zA-Z\-]+$/.test(n)){var o=document.createElement("code");o.className="language-".concat(n),o.textContent=e.textContent,r.appendChild(o),e.textContent="",e.appendChild(o)}}})),requestAnimationFrame((function(){document.body.appendChild(r),n.forEach((function(e){var t=e.querySelector("code");if(t&&(window.hljs.highlightElement(t),!t.nextElementSibling||!t.nextElementSibling.classList.contains("highlight-language"))){var n=t.result?t.result.language:"plaintext",r=document.createElement("span");r.className="highlight-language",r.textContent="Language: ".concat(n),e.appendChild(r)}}))}))}catch(e){Pi.showError("Error highlighting code in <pre> elements:",e)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){var e=localStorage.getItem("theme"),t=function(){return e||(localStorage.setItem("theme","auto"),window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},n=function(e){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-bs-theme",t?"dark":"light")}else document.documentElement.setAttribute("data-bs-theme",e)};n(t());var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelector("#themeDropdown");document.querySelectorAll(".dropdown-item").forEach((function(e){e.classList.remove("active"),e.setAttribute("aria-pressed","false")}));var r=document.querySelector('[data-bs-theme-value="'.concat(e,'"]'));r.classList.add("active"),r.setAttribute("aria-pressed","true"),t&&n.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(){"light"!==e&&"dark"!==e&&n(t())})),window.addEventListener("DOMContentLoaded",(function(){r(t()),document.querySelectorAll(".dropdown-item").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-bs-theme-value");localStorage.setItem("theme",t),n(t),r(t,!0)}))}))}))}(),window.addEventListener("unhandledrejection",(function(e){var t={reason:e.reason,stack:e.reason?e.reason.stack:"No stack trace available",timestamp:(new Date).toISOString()};Pi.showError("Unhandled Rejection",t)}));var Pi={showError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Oi({timestamp:(new Date).toISOString(),message:e},t?{error:{message:t.message||"Unknown error",stack:t.stack||"No stack trace available",name:t.name||"Error"}}:{});console.error(JSON.stringify(n,null,2))}};document.querySelector(".toast-container")||document.body.insertAdjacentHTML("beforeend",'\n    \x3c!-- Toast Container --\x3e\n    <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1111100; transform: translate3d(0px, 36px, 0px);">\n      <div id="programToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">\n        <div class="toast-header">\n          <span id="toastIcon" class="me-2"></span>\n          <strong id="toastTitle" class="me-auto"></strong>\n          <small id="toastTimeDiff" class="text-muted"></small>\n          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>\n        </div>\n        <div class="toast-body">\n          <span id="toastMessage"></span>\n          <div id="toastButtons" class="mt-2 pt-2 border-top d-flex gap-2"></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Modal Template --\x3e\n    <div class="modal fade" id="notificationModal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h5 class="modal-title" id="modalTitle"></h5>\n            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n          </div>\n          <div class="modal-body" id="modalBody" style="\n    max-height: 30rem;\n    overflow: auto;\n"></div>\n          <div class="modal-footer" id="modalFooter"></div>\n        </div>\n      </div>\n    </div>\n  ');var Di=[],Fi={icons:{info:"📝",success:"✅",warning:"⚠️",error:"❌"},colors:{info:"#0dcaf0",success:"#198754",warning:"#ffc107",error:"#dc3545"}};function Bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Oi(Oi({},{type:"info",duration:3e3,position:"end-0",animate:!0,dismissible:!0,buttons:[],modal:!1,size:"medium",html:!1,triggerTime:Date.now()}),n);if(Di.length>=3){var o=Di.shift();o&&o.hide()}if(r.modal){var a=ji(e,t,r);return a&&(Di.push(a),a._element.addEventListener("hidden.bs.modal",(function(){var e=Di.indexOf(a);-1!==e&&Di.splice(e,1)}))),a}var i=function(e,t,n){try{var r=document.getElementById("programToast");if(!r)throw new Error("Toast element not found");if(r.classList.contains("show")){var o=r.cloneNode(!0);o.removeAttribute("id"),document.querySelector(".toast-container").appendChild(o),r=o}var a=new bootstrap.Toast(r,{animation:n.animate,autohide:!1!==n.duration,delay:n.duration}),i=document.getElementById("toastIcon"),s=document.getElementById("toastTitle"),c=document.getElementById("toastMessage"),u=document.getElementById("toastButtons"),l=r.querySelector(".btn-close");i&&(i.textContent=Fi.icons[n.type],i.style.color=Fi.colors[n.type]),s&&(s.textContent=e),c&&(n.html?c.innerHTML=t:c.textContent=t),u&&(u.innerHTML="",n.buttons&&n.buttons.length>0?(n.buttons.forEach((function(e){var t=document.createElement("button");t.textContent=e.text,t.className=e.class||"btn btn-sm btn-primary",t.onclick=function(){e.onClick&&e.onClick(),!1!==e.closeOnClick&&a.hide()},u.appendChild(t)})),u.style.display="flex"):u.style.display="none"),l&&(l.style.display=n.dismissible?"block":"none");var d=document.getElementById("toastTimeDiff");d.textContent="刚刚";var h=setInterval((function(){var e,t,r,o,a;d.textContent=(e=Date.now()-n.triggerTime,t=Math.floor(e/1e3),r=Math.floor(t/60),o=Math.floor(r/60),a=Math.floor(o/24),t<60?"".concat(t,"秒前"):r<60?"".concat(r,"分钟前"):o<24?"".concat(o,"小时前"):a<7?"".concat(a,"天前"):"刚刚")}),1e3);return a._element.addEventListener("hidden.bs.toast",(function(){return clearInterval(h)})),a.show(),a}catch(e){return Pi.showError("Failed to show toast notification:",e),null}}(e,t,r);return i&&(Di.push(i),i._element.addEventListener("hidden.bs.toast",(function(){var e=Di.indexOf(i);-1!==e&&Di.splice(e,1)}))),i}function ji(e,t,n){try{var r;n.dismissible=Boolean(null===(r=n.dismissible)||void 0===r||r);var o=document.getElementById("notificationModal");if(!o)throw new Error("Modal element not found");var a=o.querySelector("#modalTitle"),i=o.querySelector("#modalBody"),s=o.querySelector("#modalFooter"),c=o.querySelector(".btn-close");o.querySelector(".modal-dialog").className="modal-dialog modal-dialog-centered ".concat("large"===n.size?"modal-lg":"small"===n.size?"modal-sm":""),a&&(a.innerHTML="".concat(Fi.icons[n.type]," ").concat(e)),i&&(n.html?i.innerHTML=t:i.textContent=t),s&&(s.innerHTML=n.dismissible?'<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>':"",n.buttons.length>0&&n.buttons.forEach((function(e){var t=document.createElement("button");t.textContent=e.text,t.className=e.class||"btn btn-primary",t.onclick=function(){e.onClick&&e.onClick(),!1!==e.closeOnClick&&u.hide()},s.appendChild(t)}))),c&&(c.style.display=n.dismissible?"block":"none");var u=new bootstrap.Modal(o,{backdrop:!!n.dismissible||"static",keyboard:n.dismissible||!1});return u.show(),u}catch(e){return Pi.showError("Failed to show modal notification:",e),null}}var qi=function(){return _i((function e(){Ti(this,e),this.themeConfig={themeColors:{low:[{color:"whi",per:"30%"},{color:"red",per:"70%"}],mid:[{color:"yel",per:"20%"},{color:"ora",per:"30%"},{color:"sky",per:"20%"},{color:"red",per:"30%"}],high:[{color:"ora",per:"40%"},{color:"red",per:"60%"}],accent:[{color:"sky",per:"50%"},{color:"yel",per:"50%"}],base:"red"}},this.sections=["low","mid","high","accent"]}),[{key:"_addEventListeners",value:function(){var e=this;document.querySelectorAll(".add-color-btn").forEach((function(t){t.addEventListener("click",(function(t){var n=t.currentTarget.dataset.section;e.addColorItem(n)}))}));var t=document.querySelector("#themeConfig_exportConfig");t&&t.addEventListener("click",(function(){return e.exportConfig()}));var n=document.querySelector("#themeConfig_importConfig");n&&n.addEventListener("change",(function(t){return e.importConfig(t.target)}));var r=document.querySelector("#themeConfig_saveConfig");r&&r.addEventListener("click",(function(t){return e.saveConfig()}))}},{key:"createSectionContainers",value:function(){var e=document.getElementById("colorSections");e&&(e.innerHTML="",this.sections.forEach((function(t){var n=document.createElement("div");n.className="mb-4",n.innerHTML='\n            <div class="d-flex justify-content-between align-items-center mb-2">\n                <h6 class="text-capitalize mb-0">'.concat(t,' Colors</h6>\n                <button type="button" class="btn btn-sm btn-outline-primary add-color-btn" data-section="').concat(t,'">\n                    <i class="material-icons">add</i>添加颜色\n                </button>\n            </div>\n            <div id="').concat(t,'Colors" class="color-items">\n            </div>\n        '),e.appendChild(n)})),this._addEventListeners())}},{key:"renderColorItems",value:function(e){var t=this,n=document.getElementById("".concat(e,"Colors"));if(n){n.innerHTML="";var r=document.createElement("div");r.id="".concat(e,"TotalPercentage"),r.className="total-percentage",n.appendChild(r),this.calculateTotalPercentage(e),this.themeConfig.themeColors[e].forEach((function(r,o){var a=document.createElement("div");a.className="row mb-2 align-items-center",a.innerHTML='\n            <div class="col">\n                '.concat(t.createColorSelect(e,o,r.color).outerHTML,'\n            </div>\n            <div class="col d-flex">\n                <div class="input-group flex-grow-1">\n                    <input type="number" class="form-control percentage-input"\n                           value="').concat(parseInt(r.per,10),'"\n                           min="0" max="100"\n                           data-section="').concat(e,'"\n                           data-index="').concat(o,'">\n                    <span class="input-group-text">%</span>\n                </div>\n            </div>\n            <div class="col-auto">\n                <button type="button" class="btn btn-xs btn-outline-danger remove-color-btn"\n                        data-section="').concat(e,'"\n                        data-index="').concat(o,'">\n                    <i class="material-icons">delete</i>删除\n                </button>\n            </div>\n        '),n.appendChild(a);var i=a.querySelector("select");i.value=r.color,i.onchange=function(n){null==o?t.themeConfig.themeColors.base=n.target.value:t.updateColor(e,o,n.target.value)}})),document.querySelectorAll(".remove-color-btn").forEach((function(e){e.addEventListener("click",(function(e){var n=e.currentTarget.dataset,r=n.section,o=n.index;t.removeColorItem(r,parseInt(o))}))})),document.querySelectorAll(".percentage-input").forEach((function(e){e.addEventListener("change",(function(e){var n=e.currentTarget.dataset,r=n.section,o=n.index;t.updatePercentage(r,parseInt(o),e.target.value)}))}))}else Pi.showError("Container for ".concat(e," not found"))}},{key:"createColorSelect",value:function(e,t,n){var r=this,o=document.createElement("div");o.className="d-flex align-items-center";var a=Vi.COLOR_TO_HEX[n],i=document.createElement("span");i.className="swatch",i.title=a,i.style.backgroundColor=a;var s=document.createElement("select");return s.className="form-select",Object.values(Vi.AVAILABLE_COLORS).forEach((function(e){var t=document.createElement("option");t.value=e,t.textContent=e.toUpperCase(),t.selected=e===n,s.appendChild(t)})),s.addEventListener("change",(function(n){var o=n.target.value,a=Vi.COLOR_TO_HEX[o];i.style.backgroundColor=a,i.title=a,null!==t&&r.updateColor(e,t,o)})),o.appendChild(i),o.appendChild(s),o}},{key:"addColorItem",value:function(e){100!==this.calculateTotalPercentage(e)?this.themeConfig.themeColors[e].length>=10?Bi("最多只能添加10个颜色！ ⚠️","每个部分的颜色数量已达上限",{type:"warning",duration:3e3}):(this.themeConfig.themeColors[e].push({color:Vi.COLORS.BLU,per:"1%"}),this.renderColorItems(e),this.validatePercentages(e),Bi("颜色已添加! ✨","新的颜色选项已添加到您的调色板",{type:"success",duration:2e3})):Bi("无法添加更多颜色！ 🎨","该部分的颜色百分比已满（100%），无法添加更多颜色",{type:"warning",duration:3e3})}},{key:"removeColorItem",value:function(e,t){this.themeConfig.themeColors[e].splice(t,1),0===this.themeConfig.themeColors[e].length&&this.addColorItem(e),this.renderColorItems(e),this.validatePercentages(e),Bi("颜色已移除! 🗑️","该颜色已从调色板中移除",{type:"info",duration:2e3})}},{key:"updateColor",value:function(e,t,n){this.themeConfig.themeColors[e][t].color=n,this.calculateTotalPercentage(e),this.renderColorItems(e)}},{key:"updatePercentage",value:function(e,t,n){var r=parseInt(n,10);0!==r?(this.themeConfig.themeColors[e][t].per="".concat(r,"%"),this.validatePercentages(e),this.calculateTotalPercentage(e),Bi("百分比已更新！📊","您的颜色分布已更新",{type:"success",duration:2e3})):Bi("无效百分比! ⚠️","百分比不能为0，请设置一个大于0的值",{type:"error",duration:3e3})}},{key:"calculateTotalPercentage",value:function(e){var t=this.themeConfig.themeColors[e].reduce((function(e,t){return e+parseInt(t.per,10)}),0);return this.updatePercentageDisplay(e,t),t}},{key:"updatePercentageDisplay",value:function(e,t){var n=document.getElementById("".concat(e,"TotalPercentage"));n&&(n.textContent="总百分比: ".concat(t,"%"))}},{key:"validatePercentages",value:function(e){var t=this.themeConfig.themeColors[e].reduce((function(e,t){return e+parseInt(t.per,10)}),0),n=100-t;return t>100?(Bi("快速检查! 🎨","".concat(e,"中的颜色超过100%。请减少").concat(t-100,"%。"),{type:"warning",duration:4e3,dismissible:!0}),!1):t<100?(Bi("快速检查! 🎨","".concat(e,"中的颜色加起来应该是100! 现在它们处于 ").concat(t,"% (").concat(n,"% 剩余)。"),{type:"warning",duration:4e3,dismissible:!0}),!1):100===t||(Bi("错误","出了一点问题，请再试一次。",{type:"error",duration:5e3}),!1)}},{key:"exportConfig",value:function(){var e=this;if(["low","mid","high","accent"].every((function(t){return e.validatePercentages(t)}))){var t=JSON.stringify(this.themeConfig,null,2),n=new Blob([t],{type:"application/json"});window.saveAs(n,"theme-config.json"),Bi("已导出！📤","你的颜色设置已成功导出",{type:"success",duration:3e3})}}},{key:"saveConfig",value:function(){var e=this;["low","mid","high","accent"].every((function(t){return e.validatePercentages(t)}))&&window.AudioAnalyzer&&window.AudioAnalyzer.handleThemeChange_manual(this.themeConfig)&&Bi("已保存！💫","你的颜色偏好已更新",{type:"success"})}},{key:"importConfig",value:function(e){var t=this,n=e.files[0];if(n){var r=new FileReader;r.onload=function(e){try{var n=JSON.parse(e.target.result);if(!t.validateImportedConfig(n))throw new Error("Invalid color codes in imported configuration");t.themeConfig=n,t.initializeForm(),Bi("已导入！📥","你的颜色偏好已成功导入",{type:"success",duration:3e3}),t.saveConfig()}catch(e){Bi("错误","出了一点问题，请再试一次。",{type:"error",duration:5e3})}},r.readAsText(n)}}},{key:"validateImportedConfig",value:function(e){var t=Object.values(Vi.COLORS);if(!t.includes(e.themeColors.base))return Bi("配置无效","基础颜色无效",{type:"error",duration:5e3}),!1;for(var n=0,r=["low","mid","high","accent"];n<r.length;n++){var o=r[n];if(!e.themeColors[o])return Bi("配置无效","缺少部分：".concat(o),{type:"error",duration:5e3}),!1;var a,i=Ci(e.themeColors[o]);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!t.includes(s.color))return Bi("配置无效","".concat(o," 部分颜色无效"),{type:"error",duration:5e3}),!1;if("string"!=typeof s.per)return Bi("配置无效","".concat(o," 部分百分比格式无效"),{type:"error",duration:5e3}),!1;var c=parseInt(s.per,10);if(isNaN(c)||c<0||c>100)return Bi("配置无效","".concat(o," 部分百分比值无效"),{type:"error",duration:5e3}),!1}}catch(e){i.e(e)}finally{i.f()}}return!0}},{key:"initializeForm",value:function(){var e=this,t=document.getElementById("baseColorContainer");if(t){t.innerHTML="";var n=this.createColorSelect("base",null,this.themeConfig.themeColors.base);t.appendChild(n),n.onchange=function(t){console.log("e: ",t),e.themeConfig.themeColors.base=t.target.value}}this.createSectionContainers(),this.sections.forEach((function(t){e.renderColorItems(t)}))}}])}();function zi(e){if("string"!=typeof e)throw new TypeError("expect first argument to be a string");for(var t,n=e.split("\n"),r=/\[(\d*\:\d*\.?\d*)\]/,o=r,a=new RegExp(r.source+/(.+)/.source),i=[],s=[],c={},u=0;!1===a.test(n[u]);u++)i.push(n[u]);c.infos=(t={},e.split(/\r\n|\n|\r/).forEach((function(e){var n=e.match(/\[(\w+):(.+)\]/);if(n){var r=bi(n,3),o=(r[0],r[1]),a=r[2];t[o]=a.trim()}})),t),n.splice(0,i.length);for(var l=new RegExp(a.source+"|"+o.source),d=0,h=(n=n.filter((function(e){return l.test(e)}))).length;d<h;d++){var f=a.exec(n[d]),p=o.exec(n[d+1]);if(f&&p){var m=bi(f,3),v=m[1],g=m[2],y=bi(p,2)[1];s.push({start:Ui(v),text:g,end:Ui(y)})}}return c.scripts=s,c}function Ui(e){e=e.split(":");var t=parseInt(e[0],10),n=parseFloat(e[1]);return t>0?parseFloat((60*t+n).toFixed(2)):n}var Wi=function(){return _i((function e(){Ti(this,e),this.state={audioContext:null,isAnalyzing:!1,audioBuffer:null,metadata:null,lyrics:null,themeColors:null},this.setupEventListeners(),this.showStatusNotStarted=function(){document.getElementById("statusNotStarted").classList.remove("d-none"),document.getElementById("statusProcessing").classList.add("d-none"),document.getElementById("statusCompleted").classList.add("d-none")},this.showStatusProcessing=function(){document.getElementById("statusNotStarted").classList.add("d-none"),document.getElementById("statusProcessing").classList.remove("d-none"),document.getElementById("statusCompleted").classList.add("d-none")},this.showStatusCompleted=function(){document.getElementById("statusNotStarted").classList.add("d-none"),document.getElementById("statusProcessing").classList.add("d-none"),document.getElementById("statusCompleted").classList.remove("d-none")}}),[{key:"setupEventListeners",value:function(){var e=this;document.getElementById("audioFileInput_generate_tool").addEventListener("change",(function(t){return e.handleAudioFileSelect(t)})),document.getElementById("lrcFileInput_generate_tool").addEventListener("change",(function(t){return e.handleLrcFileSelect(t)})),document.getElementById("generate-btn").addEventListener("click",(function(){return e.startAnalysis()})),document.getElementById("copy-btn").addEventListener("click",Ri(wi().mark((function e(){var t;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("output-result").value,e.next=4,navigator.clipboard.writeText(t);case 4:Bi("耶！","📋 已复制到剪贴板！",{type:"success",duration:3e3}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Pi.showError("Failed to copy:",e.t0),Bi("哎呀！","📋 无法复制到剪贴板！",{type:"error",duration:5e3});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))),document.getElementById("download-btn").addEventListener("click",(function(){try{var e=document.getElementById("output-result").value;if(!e.trim()||!e.replace(/\s/g,""))return void Bi("检查一下！💭","还没有内容可以下载。先添加一些内容吧！",{type:"warning",duration:4e3});if(Qi.parse(e).errors.length)return void Bi("哎哟! 🤔","预设代码无效，请检查内容!\n"+Qi.parse(e).errors,{type:"error",duration:5e3});var t=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=new Blob([t],{type:"text/plain;charset=utf-8"});window.saveAs(n,"converted-output.txt"),Bi("开始下载！✨","你的文件正在下载中",{type:"success",duration:3e3})}catch(e){Bi("Oops! 🤔","There was a problem downloading your file. Please try again.",{type:"error",duration:5e3,dismissible:!0}),void 0!==Pi&&"function"==typeof Pi.showError?Pi.showError("Download error:",e):console.error("Download error:",e)}}))}},{key:"checkFileFormat",value:function(e){var t,n=null===(t=e.name.toLowerCase().match(/\.[^.]*$/))||void 0===t?void 0:t[0];return!![".aac",".flac",".mp3",".wav",".ogg",".m4a"].includes(n)||(Bi("文件类型检查 ⚠️","为了获得最佳效果，请使用 AAC、FLAC、MP3、WAV、OGG 或 M4A 文件！",{type:"warning",duration:4e3,dismissible:!0}),!1)}},{key:"getMetadata",value:(u=Ri(wi().mark((function e(t){var n,r,o,a,i;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr(t);case 3:return n=e.sent,r=n.bpm,o=n.offset,a=t.sampleRate||44100,i=t.duration||0,Bi("音频解析完成！🎵","找到 ".concat(r," BPM，时长: ").concat(this.formatDuration(i),"，偏移: ").concat(o.toFixed(2)," 秒"),{type:"success",duration:4e3}),console.log({bpm:r,sampleRate:a,duration:i,offset:o}),e.abrupt("return",{bpm:r,sampleRate:a,duration:i,offset:o});case 13:throw e.prev=13,e.t0=e.catch(0),e.t0.message.includes("Cannot use a BYOB reader with a non-byte stream")?Bi("浏览器不支持 🚀","当前浏览器不支持此功能，请尝试使用 Chrome 或 Firefox 浏览器。",{type:"error",duration:5e3,modal:!0,html:!1,dismissible:!0}):Bi("音频解析问题 🎧","无法解析这个音频文件。请尝试不同的格式。",{type:"error",duration:5e3,dismissible:!0}),Pi.showError("Error parsing metadata: ".concat(e.t0.message),e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return u.apply(this,arguments)})},{key:"handleAudioFileSelect",value:(c=Ri(wi().mark((function e(t){var n,r;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.files[0])&&this.checkFileFormat(n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!this.state.audioContext){e.next=7;break}return e.next=7,this.cleanup();case 7:return this.state.audioContext=new(window.AudioContext||window.webkitAudioContext),e.next=10,n.arrayBuffer();case 10:return r=e.sent,e.next=13,this.state.audioContext.decodeAudioData(r);case 13:return this.state.audioBuffer=e.sent,e.next=16,this.getMetadata(this.state.audioBuffer);case 16:this.state.metadata=e.sent,this.updateFileInfo("audioFileInfo",n,this.state.metadata),this.updateAnalyzeButtonState(),Bi("成功","音频文件加载成功",{type:"success",duration:3e3}),document.getElementById("processing").classList.remove("d-none"),this.showStatusNotStarted(),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(3),document.getElementById("processing").classList.add("d-none"),Bi("错误","加载音频文件出错：".concat(e.t0.message),{type:"error",duration:5e3}),Pi.showError("Error loading audio file: ".concat(e.t0.message),e.t0);case 29:case"end":return e.stop()}}),e,this,[[3,24]])}))),function(e){return c.apply(this,arguments)})},{key:"handleLrcFileSelect",value:(s=Ri(wi().mark((function e(t){var n,r;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.text();case 6:r=e.sent,this.state.lyrics=zi(r),this.updateFileInfo("lrcFileInfo",n),this.updateAnalyzeButtonState(),Bi("成功","加载LRC文件成功",{type:"success",duration:3e3}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),Bi("错误","加载LRC文件出错: ".concat(e.t0.message),{type:"error",duration:5e3}),Pi.showError("Error loading LRC file: ".concat(e.t0.message),e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e){return s.apply(this,arguments)})},{key:"handleThemeChange",value:(i=Ri(wi().mark((function e(t){var n,r,o=this;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target.files[0])&&((r=new FileReader).onload=function(e){try{var t=JSON.parse(e.target.result);if(!t||!t.themeColors)throw new Error("Invalid theme configuration format");o.state.themeColors=t.themeColors,Vi.validateThemeColors(o.state.themeColors)?(o.updateFileInfo("themeConfigInfo",n),o.updateAnalyzeButtonState(),Bi("成功","主题颜色导入成功",{type:"success",duration:3e3})):(Bi("错误","主题颜色配置无效",{type:"error",duration:5e3}),Pi.showError("Invalid theme colors configuration. - ".concat(error.message),error))}catch(e){Bi("错误","无效的JSON格式",{type:"error",duration:5e3})}},r.readAsText(n));case 2:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"handleThemeChange_manual",value:(a=Ri(wi().mark((function e(t){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&t.themeColors){e.next=3;break}throw new Error("Invalid theme configuration format");case 3:if(this.state.themeColors=t.themeColors,!Vi.validateThemeColors(this.state.themeColors)){e.next=9;break}this.updateAnalyzeButtonState(),Bi("成功","主题颜色导入成功",{type:"success",duration:3e3}),e.next=10;break;case 9:throw new Error("Invalid theme colors configuration");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Bi("错误","主题颜色配置无效",{type:"error",duration:5e3}),Pi.showError("Invalid theme colors configuration: ".concat(e.t0.message),e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e){return a.apply(this,arguments)})},{key:"updateFileInfo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{document.getElementById(e),"文件名: ".concat(t.name,"<br>大小: ").concat(this.formatFileSize(t.size)),n&&("<br>时长: ".concat(this.formatDuration(n.duration)),"<br>采样率: ".concat(n.sampleRate,"Hz"),Bi("音频信息准备就绪 🎵",'成功加载 "'.concat(t.name,'"'),{type:"success",duration:3e3}),44100!==n.sampleRate&&48e3!==n.sampleRate&&Bi("采样率通知🎚️","检测到异常的采样率。这可能会影响处理",{type:"warning",duration:4e3,dismissible:!0}),n.duration>600&&Bi("检测到大文件 📦","此文件较大，处理可能需要更长时间",{type:"info",duration:4e3}))}catch(e){Bi("文件信息错误 ⚠️","无法正确显示文件信息",{type:"error",duration:5e3,dismissible:!0}),Pi.showError("Error updating file info:",e)}t.size>104857600&&Bi("检测到大文件 📦","此文件较大，处理可能需要更长时间",{type:"info",duration:4e3})}},{key:"formatFileSize",value:function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]}},{key:"formatDuration",value:function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))}},{key:"updateAnalyzeButtonState",value:function(){var e=document.getElementById("generate-btn"),t=this.state.audioBuffer&&!this.state.isAnalyzing;e.disabled=!t}},{key:"cleanup",value:(r=Ri(wi().mark((function e(){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.state.audioContext){e.next=4;break}return e.next=3,this.state.audioContext.close();case 3:this.state.audioContext=null;case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"startAnalysis",value:(n=Ri(wi().mark((function e(){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isAnalyzing){e.next=3;break}return Bi("正在处理中 🎵","请等待当前分析完成",{type:"info",duration:3e3}),e.abrupt("return");case 3:if(this.state.isAnalyzing=!0,this.updateAnalyzeButtonState(),this.clearOutput(),e.prev=6,this.state.audioBuffer){e.next=10;break}throw Bi("缺少音频 🎵","请先上传一个音频文件",{type:"warning",duration:4e3,dismissible:!0,modal:!0,buttons:[]}),new Error("Audio buffer is not initialized");case 10:if(this.state.metadata){e.next=13;break}throw Bi("音频无效 🎵","请先换一个音频文件,再试试吧",{type:"warning",duration:4e3,dismissible:!0,modal:!0,buttons:[]}),new Error("Metadata is not initialized");case 13:if(this.state.themeColors){e.next=16;break}throw Bi("颜色主题问题 🎨","没读取到颜色设置!请检查是否保存",{type:"error",duration:4e3,dismissible:!0,modal:!0,buttons:[]}),new Error("Theme colors are not initialized");case 16:if(Vi.validateThemeColors(this.state.themeColors)){e.next=19;break}throw Bi("颜色主题问题 🎨","颜色设置似乎有问题",{type:"error",duration:4e3,dismissible:!0,modal:!0,buttons:[]}),new Error("Invalid themeColors configuration");case 19:return e.next=21,this.generateColorSequence();case 21:Bi("分析完成！✨","你的音频已成功处理",{type:"success",duration:4e3}),this.showStatusCompleted(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(6),Pi.showError("Analysis failed: ".concat(e.t0.message),e.t0);case 28:return e.prev=28,this.state.isAnalyzing=!1,this.updateAnalyzeButtonState(),e.finish(28);case 32:case"end":return e.stop()}}),e,this,[[6,25,28,32]])}))),function(){return n.apply(this,arguments)})},{key:"generateColorSequence",value:(t=Ri(wi().mark((function e(){var t,n,r,a,i,s,c,u,l,d,h,f,p=this,m=arguments;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:1,e.prev=1,n=this.state.metadata.offset||0,r=this.state.metadata.bpm||120,(a=this.state.metadata.duration||0)>600&&console.warn("Audio duration exceeds recommended length of 10 minutes"),this.state.audioBuffer.length/1048576>50&&console.warn("Large File Detected 📦","This might take a little longer to process",{type:"warning",duration:4e3}),Bi("开始处理 🎼","正在分析你的音频文件...",{type:"info",duration:3e3}),this.showStatusProcessing(),i=60/r*1e3*t,s=Math.ceil(1e3*(a-n)/i),c={},!this.state.lyrics){e.next=17;break}return e.next=16,o.e(998).then(o.bind(o,998));case 16:c=c=e.sent.default;case 17:u=this.state.lyrics?this.state.lyrics.scripts.sort((function(e,t){return e.start-t.start})):[],l=-1/0,d=[],h=0,f=function(){var e=Ri(wi().mark((function e(t){var r,o,m;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=100,o=wi().mark((function e(){var t,r,o,h,f,v,g,y,w;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n+m*i/1e3,r=100*Math.round(10*t),console.log("Processing time: ".concat(t,"s, Normalized: ").concat(r,", Total Duration: ").concat(a,"s")),!(t<n||t>=a)){e.next=6;break}return console.log("Skipping out-of-range time: ".concat(t,"s")),e.abrupt("return",1);case 6:return o=u.find((function(e){return Math.abs(e.start-t)<.1})),e.prev=7,e.next=10,p.processAudioChunk(p.state.audioBuffer,t,.1);case 10:h=e.sent,f=.5,v=.5,"number"!=typeof h.frequency||isNaN(h.frequency)||(f=h.frequency>0?Math.min(h.frequency/2e3,1):0),"number"!=typeof h.amplitude||isNaN(h.amplitude)||(v=h.amplitude),f=Math.max(0,Math.min(1,f)),v=Math.max(0,Math.min(1,v)),g=0,o&&(g=c(o.text).comparative),y=r-l>=800,"off4"===(w=Vi.getColorCode(f,v,g,p.state.themeColors,y))&&(l=r),console.log("---\n[歌词]: ".concat(o?o.text:"无",", [情感分数]: ").concat(g,",\n [时间]: ").concat(r,", [颜色]: ").concat(w,",\n [归一化频率]: ").concat(f,", [归一化幅度]: ").concat(v,"\n---\n")),o?d.push("".concat(r,",").concat(w," // ").concat(o.text)):d.push("".concat(r,",").concat(w)),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),e.t0.message&&e.t0.message.includes("Reached end of file")?Bi("处理完成 🎵","完成音频文件的分析",{type:"success",duration:3e3}):(Bi("处理错误 🎧","分析你的音频时出现问题",{type:"error",duration:5e3,dismissible:!0}),Pi.showError("Error analyzing audio: ".concat(e.t0)));case 29:p.updateProgress(m/s*100);case 30:case"end":return e.stop()}}),e,null,[[7,26]])})),m=t;case 4:if(!(m<t+r&&m<s)){e.next=11;break}return e.delegateYield(o(),"t0",6);case 6:if(!e.t0){e.next=8;break}return e.abrupt("continue",8);case 8:m++,e.next=4;break;case 11:(h+=r)<s?requestAnimationFrame((function(){return f(h)})):p.handleAnalysisResult(d),e.next=19;break;case 15:throw e.prev=15,e.t1=e.catch(0),Bi("块处理错误",e.t1.message,{type:"error",duration:5e3,dismissible:!0}),e.t1;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),f(0),e.next=30;break;case 25:throw e.prev=25,e.t0=e.catch(1),Bi("分析错误",e.t0.message,{type:"error",duration:5e3,dismissible:!0}),this.updateProgress(0),e.t0;case 30:case"end":return e.stop()}}),e,this,[[1,25]])}))),function(){return t.apply(this,arguments)})},{key:"processAudioChunk",value:(e=Ri(wi().mark((function e(t,n,r){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){if(t){var a=t.sampleRate;if(a){var i=Math.floor(n*a),s=Math.floor(r*a);if(i<0||i>=t.length)o(new Error("Start sample out of bounds"));else try{var c=t.getChannelData(0);if(!c)return void o(new Error("Channel data is null"));var u=c.slice(i,i+s);if(!u||0===u.length)return void o(new Error("Invalid audio chunk"));for(var l=u.reduce((function(e,t){return e+Math.abs(t)}),0)/s,d=0,h=1;h<u.length;h++)(u[h]>0&&u[h-1]<=0||u[h]<0&&u[h-1]>=0)&&d++;var f=d*a/(2*u.length);e({amplitude:isNaN(l)?0:l,frequency:isNaN(f)?0:f})}catch(e){o(new Error("Audio processing error: ".concat(e.message)))}}else o(new Error("Invalid sample rate"))}else o(new Error("Audio buffer is null or undefined"))})));case 1:case"end":return e.stop()}}),e)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"updateProgress",value:function(e){var t=document.getElementById("progressBar"),n=document.getElementById("progressText");t.style.width="".concat(e,"%"),n.textContent="".concat(Math.round(e),"%"),t.setAttribute("aria-valuenow",e),n.setAttribute("aria-live","polite")}},{key:"handleAnalysisResult",value:function(e){document.getElementById("output-result").value=this.formatTimelineData(e)}},{key:"formatTimelineData",value:function(e){return e.map((function(e){var t=bi(e.split(","),3),n=t[0],r=t[1],o=t[2];return"".concat(n,",").concat(r," ").concat(o?"// ".concat(o):"")})).join("\n")}},{key:"clearOutput",value:function(){document.getElementById("output-result").value="",this.updateProgress(0)}},{key:"getDefaultThemeColors",value:function(){return{base:"blu",low:[{color:"blu",per:60},{color:"pur",per:40}],mid:[{color:"pin",per:50},{color:"red",per:50}],high:[{color:"yel",per:40},{color:"ora",per:60}],accent:[{color:"whi",per:100}]}}}]);var e,t,n,r,a,i,s,c,u}(),Vi=function(){return _i((function e(){Ti(this,e)}),null,[{key:"getColorMap",value:function(){var e=this;return Object.keys(this.COLORS).reduce((function(t,n){var r=e.COLORS[n];return t[r]=e.SPECIAL_INTENSITIES[r]||new Set(e.INTENSITIES),t}),{})}},{key:"validateThemeColors",value:function(e){for(var t=this.getColorMap(),n=Object.keys(t),r=0,o=["low","mid","high","accent"];r<o.length;r++){var a=o[r];if(!Array.isArray(e[a]))return Pi.showError("Invalid themeColors: ".concat(a," should be an array"),"error"),!1;var i,s=Ci(e[a]);try{for(s.s();!(i=s.n()).done;){var c=i.value;if("object"!==yi(c)||!c.color||!c.per)return Bi("颜色范围问题 🎨","".concat(a,"范围需要正确配置！ ").concat(a,"范围内的颜色信息无效: ").concat(JSON.stringify(c)),{type:"error",duration:4e3}),!1;if(!n.includes(c.color))return Bi("颜色选择无效 🎨","请为".concat(a,"范围选择一个有效的颜色！").concat(a,"范围内颜色无效: ").concat(c.color),{type:"error",duration:4e3,dismissible:!0}),!1;var u=parseInt(c.per);if(isNaN(u)||u<=0||u>100)return Bi("百分比范围 📊","颜色百分比必须在1到100之间！".concat(a,"范围内无效百分比: ").concat(c.per),{type:"warning",duration:4e3}),!1}}catch(e){s.e(e)}finally{s.f()}var l=e[a].reduce((function(e,t){return e+parseInt(t.per)}),0);if(100!==l)return Bi("百分比范围 🎯","".concat(a,"范围百分比加起来应该是100!"),{type:"warning",duration:5e3,dismissible:!0}),!1}return!("string"!=typeof e.base||!n.includes(e.base))||(Bi("基础颜色缺失 🔍","请为您的主题选择一个基础颜色！",{type:"error",duration:4e3}),!1)}},{key:"validateColorCode",value:function(e){var t=e.slice(0,3),n=e.slice(3),r=this.getColorMap();return!!r.hasOwnProperty(t)&&r[t].has(n)}},{key:"getValidColorCode",value:function(e,t){var n=this,r=this.getColorMap();if(!r.hasOwnProperty(e))return null;var o=Array.from(r[e]);if(o.includes(t))return"".concat(e).concat(t);var a=o.reduce((function(e,r){return Math.abs(n.INTENSITIES.indexOf(r)-n.INTENSITIES.indexOf(t))<Math.abs(n.INTENSITIES.indexOf(e)-n.INTENSITIES.indexOf(t))?r:e}),o[0]);return"".concat(e).concat(a)}},{key:"getColorIntensity",value:function(e,t){var n=t*(1-Math.pow(Math.abs(e-.5),2)+1);return isNaN(n)?"off4":n>=.9?"T":n>=.7?"4":n>=.5?"3":n>=.3?"2":"1"}},{key:"mapFrequencyToColorInRange",value:function(e,t){if(!Array.isArray(t)||0===t.length)return null;if(t.every((function(e){return e.per===t[0].per}))){for(var n=t.map((function(e){return e.color})),r=n.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),a=[n[o],n[r]];n[r]=a[0],n[o]=a[1]}return n[Math.floor(Math.random()*n.length)]}var i,s=Math.random(),c=0,u=Ci(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;if(s<=(c+=parseFloat(l.per)/100))return l.color}}catch(e){u.e(e)}finally{u.f()}return t[t.length-1].color}},{key:"mapFrequencyToColor",value:function(e,t){var n;if(n=e<.33?t.low:e<.66?t.mid:t.high,!Array.isArray(n)||0===n.length)throw new Error("Invalid color range");return this.mapFrequencyToColorInRange(e,n)}},{key:"getAccentColor",value:function(e){if(!Array.isArray(e.accent)||0===e.accent.length)throw new Error("Invalid accent color range");return this.mapFrequencyToColorInRange(Math.random(),e.accent)}},{key:"getColorCode",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Math.pow(t,.6)*this.getSensitivityFactor(e),i="";try{i=this.mapFrequencyToColor(e,r)}catch(e){Pi.showError("Error in mapFrequencyToColor: ".concat(e,". Using base color."),"warn"),i=r.base}if(a>=.7)try{i=this.getAccentColor(r)}catch(e){Pi.showError("Error in getAccentColor: ".concat(e,". Using original color."),"warn")}var s=this.getColorIntensity(e,a);if(n>.75?s=Math.min(parseInt(s)+Math.ceil(.75*n),4).toString():n<-.75&&(s=Math.max(parseInt(s)-Math.ceil(.75*Math.abs(n)),1).toString()),a>.98&&(s="T"),o&&a>=.5)return"off4";var c="".concat(i).concat(s);if(!this.validateColorCode(c)){var u=this.getValidColorCode(i,s);u?(Pi.showError("[WARN]Invalid color code generated: ".concat(c,". Falling back to ").concat(u,"."),"warn"),c=u):(Pi.showError("[ERROR]Critical error: Unable to generate a valid color code - ".concat(c,"."),"error"),c="whi4")}return c}},{key:"getSensitivityFactor",value:function(e){return 1+.3*Math.sin((e-.3)*Math.PI)}}])}();ki(Vi,"COLORS",{RED:"red",ORA:"ora",YEL:"yel",SKY:"sky",BLU:"blu",PUR:"pur",PIN:"pin",WHI:"whi",OFF:"off",RAI:"rai"}),ki(Vi,"AVAILABLE_COLORS",["red","ora","yel","sky","blu","pur","pin","whi"]),ki(Vi,"COLOR_TO_HEX",{red:"#FF0000",ora:"#FFA500",yel:"#FFFF00",sky:"#87CEEB",blu:"#0000FF",pur:"#800080",pin:"#FFC0CB",whi:"#FFFFFF"}),ki(Vi,"INTENSITIES",["1","2","3","4","T"]),ki(Vi,"SPECIAL_INTENSITIES",{pin:new Set(["2","4"]),whi:new Set(["4","T"]),off:new Set(["4"]),rai:new Set(["4"])});var Hi=document.getElementById("dropZone"),Gi=document.getElementById("fileInput"),Xi=document.getElementById("input");function Yi(e){e.preventDefault(),e.stopPropagation()}function Zi(e){Hi.classList.add("drag-over")}function $i(e){Hi.classList.remove("drag-over")}function Ji(e){var t=e[0];if(t){var n=new FileReader;n.onload=function(e){Xi.value=e.target.result},n.readAsText(t)}}["dragenter","dragover","dragleave","drop"].forEach((function(e){Hi.addEventListener(e,Yi,!1),document.body.addEventListener(e,Yi,!1)})),["dragenter","dragover"].forEach((function(e){Hi.addEventListener(e,Zi,!1)})),["dragleave","drop"].forEach((function(e){Hi.addEventListener(e,$i,!1)})),Hi.addEventListener("drop",(function(e){Ji(e.dataTransfer.files)}),!1),Hi.addEventListener("click",(function(){return Gi.click()})),Gi.addEventListener("change",(function(e){Ji(e.target.files)}));var Ki={colors:{red:{4:"#ef4444",3:"#f87171",2:"#fca5a5",1:"#fecaca",T:"#ef4444"},ora:{4:"#f97316",3:"#fb923c",2:"#fdba74",1:"#fed7aa",T:"#f97316"},yel:{4:"#eab308",3:"#facc15",2:"#fde047",1:"#fef08a",T:"#eab308"},sky:{4:"#06b6d4",3:"#22d3ee",2:"#67e8f9",1:"#a5f3fc",T:"#06b6d4"},blu:{4:"#3b82f6",3:"#60a5fa",2:"#93c5fd",1:"#bfdbfe",T:"#3b82f6"},pur:{4:"#a855f7",3:"#c084fc",2:"#d8b4fe",1:"#e9d5ff",T:"#a855f7"},off:{4:"#333333"},pin:{4:"#ec4899",2:"#f472b6"},whi:{4:"#ffffff",T:"#eeeeee"}},colorCache:new Map,getColorCode:function(e){var t;if(this.colorCache.has(e))return this.colorCache.get(e);var n=[e.slice(0,3),e.slice(3)],r=n[0],o=n[1],a=(null===(t=this.colors[r])||void 0===t?void 0:t[o])||null;return this.colorCache.set(e,a),a}},Qi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ti(this,e),this.sequence=t}return _i(e,[{key:"addFrame",value:function(e,t){if("number"!=typeof e||e<0)throw new Error("Invalid time value");if(!t||"string"!=typeof t)throw new Error("Invalid color value");this.sequence.push({time:e,color:t}),this.sort()}},{key:"sort",value:function(){this.sequence.sort((function(e,t){return e.time-t.time}))}},{key:"getFrameAtTime",value:function(e){if(!this.sequence.length)return null;for(var t=0,n=this.sequence.length-1;t<n;){var r=Math.floor((t+n+1)/2);this.sequence[r].time<=e?t=r:n=r-1}return this.sequence[t]}},{key:"getDuration",value:function(){return 0===this.sequence.length?0:this.sequence[this.sequence.length-1].time}},{key:"clear",value:function(){this.sequence=[]}},{key:"loadFromInput",value:function(t){var n=this,r=e.parse(t),o=r.errors,a=r.frames;if(o.length)throw new Error(o.join("\n"));a.forEach((function(e){var t=e.time,r=e.color;return n.addFrame(t,r)}))}}],[{key:"validate",value:function(e,t){if("string"!=typeof e)return{errors:["Line ".concat(t+1,": Invalid input type")]};if(e.length<=0)return{errors:["Line ".concat(t+1,": Empty Context")]};if(e.length>1e3)return{errors:["Line ".concat(t+1,": Line too long")]};var n=e.split("//")[0].trim();if(!n)return null;var r=[],o=bi(n.split(",").map((function(e){return e.trim()})),2),a=o[0],i=o[1],s=parseInt(a);return isNaN(s)?r.push("Line ".concat(t+1,": Invalid time value: ").concat(a)):s%100!=0&&r.push("Line ".concat(t+1,": Time must be multiple of 100ms")),i?Ki.getColorCode(i)||r.push("Line ".concat(t+1,": Invalid color code: ").concat(i)):r.push("Line ".concat(t+1,": Missing color value")),r.length?{errors:r}:{time:s,color:i}}},{key:"parse",value:function(t){var n=t.split("\n"),r=[],o=[];n.forEach((function(t,n){var a,i=e.validate(t,n);i&&(i.errors?r.push.apply(r,function(e){if(Array.isArray(e))return xi(e)}(a=i.errors)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||Ei(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):o.push(i))})),o.sort((function(e,t){return e.time-t.time}));for(var a=1;a<o.length;a++){var i=o[a].time-o[a-1].time;i<200&&r.push("Invalid gap of ".concat(i,"ms between ").concat(o[a-1].time,"ms and ").concat(o[a].time,"ms"))}return{errors:r,frames:o}}}])}(),es=function(){return _i((function e(t,n){Ti(this,e),this.element=t,this.timerDisplay=n,this.timeline=null,this.startTimeStamp=0,this.lastFrameTimeStamp=0,this.animationFrame=null,this.pausedTimeStamp=0,this.audioCurrentTimeStamp=0,this.isPaused=!1,this.colorInfoTemplate=document.createElement("div"),this.colorInfoTemplate.className="color-info"}),[{key:"setTimeline",value:function(e){this.timeline=e,this.reset()}},{key:"start",value:function(){this.isPaused?(this.startTimeStamp=performance.now()-this.pausedTimeStamp,this.isPaused=!1):(this.reset(),this.startTimeStamp=performance.now()),this.animate()}},{key:"pause",value:function(){!this.isPaused&&this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null,this.pausedTimeStamp=performance.now()-this.startTimeStamp,this.isPaused=!0)}},{key:"resume",value:function(){this.isPaused&&this.start()}},{key:"stop",value:function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.reset(),this.element.dispatchEvent(new CustomEvent("animationStopped"))}},{key:"reset",value:function(){this.startTimeStamp=0,this.lastFrameTimeStamp=0,this.pausedTimeStamp=0,this.isPaused=!1,this.element.style.backgroundColor="var(--surface-secondary",this.element.innerHTML="",this.updateDisplay(0)}},{key:"restart",value:function(){this.stop(),this.start()}},{key:"clear",value:function(){this.stop(),this.timeline=null,this.element.style.backgroundColor="var(--surface-secondary",this.element.innerHTML="",this.updateDisplay(0)}},{key:"destroy",value:function(){this.clear(),this.element=null,this.timerDisplay=null,this.colorInfoTemplate=null}},{key:"hexToRgb",value:function(e){var t=parseInt(e.slice(1),16),n=t>>8&255,r=255&t;return"rgb(".concat(t>>16&255,", ").concat(n,", ").concat(r,")")}},{key:"updateColorInfo",value:function(e,t,n){var r=document.createDocumentFragment(),o=this.colorInfoTemplate.cloneNode(!0);o.innerHTML="\n                    <div>Name: ".concat(e,"</div>\n                    <div>Time: ").concat(n,"ms</div>\n                    <div>Hex: ").concat(t,"</div>\n                    <div>RGB: ").concat(this.hexToRgb(t),"</div>\n                "),r.appendChild(o),this.element.innerHTML="",this.element.appendChild(r)}},{key:"animate",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.isPaused)if(this.lastFrameTimeStamp&&n-this.lastFrameTimeStamp<16)this.animationFrame=requestAnimationFrame((function(e){return t.animate(e)}));else{this.lastFrameTimeStamp=n;var r=this.audioCurrentTimeStamp;this.updateDisplay(r);var o=null===(e=this.timeline)||void 0===e?void 0:e.getFrameAtTime(r);if(o){var a=Ki.getColorCode(o.color);a&&(this.element.style.backgroundColor=a,this.updateColorInfo(o.color,a,o.time))}r<=this.timeline.getDuration()+1e3?this.animationFrame=requestAnimationFrame((function(e){return t.animate(e)})):this.stop()}}},{key:"updateDisplay",value:function(e){this.timerDisplay.textContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd HH:mm:ss",n=Math.floor(e/1e3),r=e%1e3,o=Math.floor(n/60),a=n%60,i=Math.floor(o/60),s=o%60,c=Math.floor(i/24),u=i%24,l=String(c).padStart(2,"0"),d=String(u).padStart(2,"0"),h=String(s).padStart(2,"0"),f=String(a).padStart(2,"0"),p=String(r.toFixed(0)).padStart(2,"0");return t.replace("dd",l).replace("HH",d).replace("mm",h).replace("ss",f).replace("ms",p)}(e,"mm:ss:ms"),document.querySelector("#milliseconds ").textContent="".concat(Math.floor(e),"ms")}},{key:"updateAnimation",value:function(e){var t,n=null===(t=this.timeline)||void 0===t?void 0:t.getFrameAtTime(e);if(n){var r=Ki.getColorCode(n.color);r&&(this.element.style.backgroundColor=r,this.updateColorInfo(n.color,r,n.time))}}},{key:"updateProgress",value:function(e){this.audioCurrentTimeStamp=e,this.animate()}}])}(),ts=function(){return _i((function e(t){Ti(this,e),this.audio=t,this.isInitialized=!1,this.canvas=document.getElementById("visualizer"),this.ctx=this.canvas.getContext("2d"),this.visualizationType=document.getElementById("visualizationType"),this.minHeight=100,this.maxHeight=200,this.setupAudioContext(),this.setupEventListeners(),this.resizeCanvas()}),[{key:"setupAudioContext",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=window.innerWidth<768?1024:2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.source=this.audioContext.createMediaElementSource(this.audio),this.source.connect(this.analyser),this.analyser.connect(this.audioContext.destination),this.isInitialized=!0}},{key:"setupEventListeners",value:function(){var e,t=this;window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){return t.resizeCanvas()}),250)})),this.visualizationType.addEventListener("change",(function(){return t.draw()})),window.addEventListener("orientationchange",(function(){setTimeout((function(){return t.resizeCanvas()}),100)}))}},{key:"resizeCanvas",value:function(){var e,t=this.canvas.parentElement.offsetWidth,n=window.innerWidth;e=n<576?this.minHeight:n<992?Math.min(1.5*this.minHeight,this.maxHeight):this.maxHeight,this.canvas.style.height="".concat(e,"px"),this.canvas.width=t*window.devicePixelRatio,this.canvas.height=e*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),this.analyser.fftSize=n<768?1024:2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength)}},{key:"draw",value:function(){var e=this;this.isInitialized&&(requestAnimationFrame((function(){return e.draw()})),this.analyser.getByteTimeDomainData(this.dataArray),this.ctx.fillStyle="rgba(0, 0, 0, 0.2)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),"frequency"===this.visualizationType.value?this.drawFrequencyBars():this.drawWaveform())}},{key:"drawFrequencyBars",value:function(){this.analyser.getByteFrequencyData(this.dataArray);var e=window.innerWidth,t=e<576?1.5:2.5,n=this.canvas.width/this.bufferLength*t,r=e<576?.5:1,o=0;this.ctx.fillStyle="rgba(0, 0, 0, 0.2)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(var a=0;a<this.bufferLength;a++){var i=this.dataArray[a]/255*this.canvas.height*.8,s=this.ctx.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"#00ff88"),s.addColorStop(.5,"#00ffff"),s.addColorStop(1,"#0088ff"),this.ctx.fillStyle=s,this.ctx.fillRect(o,this.canvas.height-i,Math.max(n,1),i),o+=n+r}}},{key:"drawWaveform",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.ctx.lineWidth=window.innerWidth<576?1:2,this.ctx.strokeStyle="#00ffff",this.ctx.beginPath();for(var e=this.canvas.width/this.bufferLength,t=0,n=0;n<this.bufferLength;n++){var r=this.dataArray[n]/128*(this.canvas.height/2);0===n?this.ctx.moveTo(t,r):this.ctx.lineTo(t,r),t+=e}this.ctx.lineTo(this.canvas.width,this.canvas.height/2),this.ctx.stroke()}},{key:"start",value:function(){"suspended"===this.audioContext.state&&this.audioContext.resume(),this.draw()}},{key:"stop",value:function(){"running"===this.audioContext.state&&this.audioContext.suspend()}}])}(),ns=function(){return _i((function e(t){Ti(this,e),this.audio=t,this.setupWavesurfer()}),[{key:"setupWavesurfer",value:function(){var e=this;this.wavesurfer=WaveSurfer.create({container:"#wavesurfer_color_preview",media:this.audio,responsive:!0,normalize:!1,interact:!0,mediaControls:!1}),this.wavesurfer.on("ready",(function(){e.visualizerReady=!0}))}},{key:"loadAudio",value:function(e){this.wavesurfer.load(e)}},{key:"start",value:function(){this.visualizerReady&&this.wavesurfer.play()}},{key:"stop",value:function(){this.visualizerReady&&this.wavesurfer.pause()}}])}(),rs=function(){return _i((function e(t){Ti(this,e),this.audio=new Audio,this.waveSurferController=null,this.isAudioLoaded=!1,this.syncedWithTimeline=!0,this.isDraggingProgress=!1,this.animationController=t||null,this.visualizer=null,this.setupAudioElements(),this.setupEventListeners()}),[{key:"setupAudioElements",value:function(){this.audioDropZone=document.getElementById("audioDropZone"),this.audioInput=document.getElementById("audioInput"),this.audioControls=document.getElementById("audioControls"),this.audioProgress=document.getElementById("audioProgress"),this.currentTimeDisplay=document.getElementById("currentTime"),this.totalTimeDisplay=document.getElementById("totalTime"),this.audioFileName=document.getElementById("audioFileName"),this.currentPer=document.getElementById("currentPer")}},{key:"setupEventListeners",value:function(){var e=this;this.audioDropZone.addEventListener("drop",(function(t){return e.handleAudioDrop(t)})),this.audioDropZone.addEventListener("click",(function(){return e.audioInput.click()})),this.audioInput.addEventListener("change",(function(t){return e.handleAudioSelect(t)})),this.audio.addEventListener("loadedmetadata",(function(){return e.handleAudioLoaded()})),this.audio.addEventListener("timeupdate",(function(){return e.updateTimeDisplay()})),this.audio.addEventListener("ended",(function(){return e.handleAudioEnded()})),this.audioProgress.addEventListener("input",(function(t){if(e.audio&&!isNaN(e.audio.duration)&&e.audio.duration>0){var n=parseFloat(t.target.value)/100*e.audio.duration;isFinite(n)&&n>=0?e.audio.currentTime=n:Bi("播放出错","检测到无效的时间位置.",{type:"error",duration:3e3})}else Bi("音频未就绪","请确保音频文件已正确加载。",{type:"warning",duration:3e3})})),this.audioProgress.addEventListener("mousedown",(function(t){e.isDraggingProgress=!0,e.handleProgressChange(t)})),this.audioProgress.addEventListener("mousemove",(function(t){e.isDraggingProgress&&e.handleProgressChange(t)})),this.audioProgress.addEventListener("mouseup",(function(t){e.isDraggingProgress=!1,e.handleProgressChange(t)}));var t=document.getElementById("volumeControl");t&&t.addEventListener("input",(function(t){e.setVolume(t.target.value/100)}))}},{key:"handleProgressChange",value:function(e){if(this.audio&&!isNaN(this.audio.duration)&&this.audio.duration>0){var t=parseFloat(e.target.value)/100*this.audio.duration;isFinite(t)&&t>=0?(this.audio.currentTime=t,this.updateTimeDisplay()):Bi("播放出错","检测到无效的时间位置.",{type:"error",duration:3e3})}else Bi("音频未就绪","请确保音频文件已正确加载。",{type:"warning",duration:3e3})}},{key:"handleAudioDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files[0];t&&t.type.startsWith("audio/")&&this.loadAudioFile(t)}},{key:"handleAudioSelect",value:function(e){var t=e.target.files[0];t&&this.loadAudioFile(t)}},{key:"loadAudioFile",value:function(e){var t=URL.createObjectURL(e);this.audio.src=t,this.audioFileName.textContent=e.name,this.isAudioLoaded=!0,this.updateControlButtons(!0),this.waveSurferController||(this.waveSurferController=new ns(this.audio)),this.waveSurferController.loadAudio(t),this.visualizer||(this.visualizer=new ts(this.audio))}},{key:"handleAudioLoaded",value:function(){this.audioProgress.max=100,this.totalTimeDisplay.textContent=this.formatTime(this.audio.duration)}},{key:"updateTimeDisplay",value:function(){var e=this.audio.currentTime,t=this.audio.duration,n=(e/t*100).toFixed(2);this.currentTimeDisplay.textContent=this.formatTime(e),this.totalTimeDisplay.textContent=this.formatTime(t),this.currentPer.textContent="".concat(n,"%"),this.audioProgress.value=n,this.syncedWithTimeline&&this.animationController&&this.animationController.updateProgress(1e3*this.audio.currentTime)}},{key:"handleAudioEnded",value:function(){this.audioProgress.value=0,this.updateTimeDisplay(),this.syncedWithTimeline&&document.getElementById("stop").click()}},{key:"formatTime",value:function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}},{key:"setVolume",value:function(e){var t=Math.max(0,Math.min(1,e));return this.audio.volume=t,t}},{key:"seekTo",value:function(e){if(this.isAudioLoaded){var t=Math.max(0,Math.min(e,this.audio.duration));this.audio.currentTime=t,this.updateTimeDisplay()}}},{key:"skipForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.isAudioLoaded&&this.seekTo(this.audio.currentTime+e)}},{key:"skipBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.isAudioLoaded&&this.seekTo(this.audio.currentTime-e)}},{key:"toggleMute",value:function(){return this.audio.muted=!this.audio.muted,this.audio.muted}},{key:"getAudioState",value:function(){return{currentTime:this.audio.currentTime,duration:this.audio.duration,volume:this.audio.volume,playbackRate:this.audio.playbackRate,isMuted:this.audio.muted,isPlaying:!this.audio.paused}}},{key:"play",value:function(e){var t;this.isAudioLoaded&&(void 0!==e&&this.seekTo(e),this.audio.play(),null===(t=this.waveSurferController)||void 0===t||t.start())}},{key:"syncWithControls_run",value:function(){var e;this.isAudioLoaded&&(this.audio.currentTime=0,this.play(),null===(e=this.waveSurferController)||void 0===e||e.start(),this.updateControlButtons(!0))}},{key:"syncWithControls_pause",value:function(){var e;this.isAudioLoaded&&(this.audio.pause(),null===(e=this.waveSurferController)||void 0===e||e.stop())}},{key:"syncWithControls_resume",value:function(){var e;this.isAudioLoaded&&(this.play(),null===(e=this.waveSurferController)||void 0===e||e.start())}},{key:"syncWithControls_stop",value:function(){var e;this.isAudioLoaded&&(this.audio.pause(),this.audio.currentTime=0,null===(e=this.waveSurferController)||void 0===e||e.stop(),this.updateTimeDisplay(),this.audioProgress.value=0,this.currentPer.textContent="0%")}},{key:"syncWithControls_restart",value:function(){var e;this.isAudioLoaded&&(this.audio.currentTime=0,this.currentPer.textContent="0%",this.play(),null===(e=this.waveSurferController)||void 0===e||e.start())}},{key:"syncWithControls_clear",value:function(){var e;this.isAudioLoaded&&(this.audio.pause(),this.audio.currentTime=0,null===(e=this.waveSurferController)||void 0===e||e.stop(),this.isAudioLoaded=!1,this.audio.src="",this.audioFileName.textContent="",this.audioProgress.value=0,this.currentPer.textContent="0%",this.updateTimeDisplay(),this.updateControlButtons(!1))}},{key:"updateControlButtons",value:function(e){document.querySelectorAll(".control-button").forEach((function(t){e?t.classList.add("synced"):t.classList.remove("synced")}))}}])}();function os(e,t){var n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,o)}),t)}}["dragenter","dragover","dragleave","drop"].forEach((function(e){document.getElementById("audioDropZone").addEventListener(e,Yi,!1)})),window.addEventListener("load",(function(){var e=document.querySelectorAll('input[type="file"]');Array.from(e).some((function(e){return""!==e.value}))&&(e.forEach((function(e){e.value=""})),Bi("需要选择文件","请再次选择您的文件以确保正确处理。",{type:"info",duration:5e3,buttons:[{text:"OK",class:"btn btn-sm btn-primary",onClick:function(){}}]}))})),document.addEventListener("DOMContentLoaded",Ri(wi().mark((function e(){var t,n,r,o,a,i,s,c,u,l,d,h,f,p,m,v;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=void 0,(g=document.createElement("script")).src="https://cdn.jsdelivr.net/npm/segmentit@2.0.3/dist/umd/segmentit.min.js",g.defer=!0,g.crossOrigin="anonymous",g.onload=function(){console.log("Script loaded successfully!"),document.getElementById("loadingOverlay").style.display="none"},document.body.appendChild(g),t={colorElement:document.getElementById("colorElement"),input:document.getElementById("input"),timerDisplay:document.getElementById("timer"),buttons:{run:document.getElementById("run"),pause:document.getElementById("pause"),resume:document.getElementById("resume"),stop:document.getElementById("stop"),restart:document.getElementById("restart"),clear:document.getElementById("clear")}},(new qi).initializeForm(),window.AudioAnalyzer=new Wi,n=new es(t.colorElement,t.timerDisplay),r=new rs(n),t.colorElement.addEventListener("animationStopped",(function(){o(!1,!1)})),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.buttons.run.disabled=e,t.buttons.pause.disabled=!e||r,t.buttons.resume.disabled=!r,t.buttons.stop.disabled=!e,t.buttons.restart.disabled=!n.timeline,t.buttons.clear.disabled=!n.timeline,t.buttons.run.title="开始（空格）",t.buttons.pause.title="暂停（空格）",t.buttons.resume.title="恢复播放（空格）",t.buttons.stop.title="停止（Esc）",t.buttons.restart.title="重新启动（Ctrl/Cmd+R）",t.buttons.clear.title="清除（Ctrl/Cmd+Del）"},a=function(){if(document.activeElement!==t.input){var e=Qi.parse(t.input.value),a=e.errors,i=e.frames;if(a.length)return Bi("时间轴内容检查 ⚠️","在你的时间轴内容上发现了一些问题:\n"+a.join("\n"),{type:"error",duration:5e3,dismissible:!0}),c();if(0!==i.length)try{n.timeline=new Qi(i),n.start(),r.syncWithControls_run(),o(!0),Bi("开始预览 🎵","当前在预览时间轴颜色效果",{type:"success",duration:3e3})}catch(e){Bi("播放错误 🎼","无法开始预览。请重试！",{type:"error",duration:4e3,dismissible:!0}),Pi.showError("Animation error:",e)}else Bi("空白时间轴内容 🎬","找不到有效的时间轴。请先添加一些内容！",{type:"warning",duration:4e3})}else Bi("检测到正在输入 ⌨️","请在运行前完成编辑",{type:"info",duration:3e3})},i=function(){document.activeElement!==t.input?(n.pause(),r.syncWithControls_pause(),o(!0,!0)):Bi("检测到正在输入 ⌨️","请在暂停前完成编辑",{type:"info",duration:3e3})},s=function(){document.activeElement!==t.input?(n.resume(),r.syncWithControls_resume(),o(!0,!1)):Bi("检测到正在输入 ⌨️","请在播放前完成编辑",{type:"info",duration:3e3})},c=function(){if(document.activeElement!==t.input){n.stop(),r.syncWithControls_stop(),o();var e=document.querySelector(".modal-backdrop.fade.show");null==e||e.remove()}else Bi("检测到正在输入 ⌨️","请在暂停前完成编辑",{type:"info",duration:3e3})},u=function(){document.activeElement!==t.input?(n.restart(),r.syncWithControls_restart(),o(!0)):Bi("检测到正在输入 ⌨️","请在暂停前完成编辑",{type:"info",duration:3e3})},l=function(){document.activeElement!==t.input?t.input.value.trim()?ji("清除已生成的时间轴内容","你确定要清除所有内容吗？此操作无法撤销。",{type:"warning",buttons:[{text:"是的，清除所有 ",class:"btn btn-danger",onClick:function(){d()}},{text:"Cancel",class:"btn btn-secondary",onClick:function(){Bi("已取消清除 ↩️","你的时间轴内容没有改变",{type:"info",duration:3e3})}}],modal:!0}):Bi("没什么需要清理的 🌟","时间轴内容已经空了",{type:"info",duration:3e3}):Bi("检测到正在输入 ⌨️","请在清除前完成编辑",{type:"info",duration:3e3})},d=function(){try{t.input.value="",n.stop(),n.timeline=null,t.colorElement.style.backgroundColor="var(--surface-secondary",t.timerDisplay.textContent="[00:00:00] => 0ms",r.syncWithControls_clear(),o(),Bi("清除成功 ✨","一切都被成功重置了",{type:"success",duration:3e3})}catch(e){Bi("清除错误 ⚠️","清除输入的时间轴内容时出错",{type:"error",duration:4e3,dismissible:!0}),Pi.showError("Clear error:",e)}},t.buttons.run.addEventListener("click",a),t.buttons.pause.addEventListener("click",i),t.buttons.resume.addEventListener("click",s),t.buttons.stop.addEventListener("click",c),t.buttons.restart.addEventListener("click",u),t.buttons.clear.addEventListener("click",l),h=0,f=0,window.addEventListener("error",(function(e){if(e.message.indexOf("Script Error"))return console.log(e);if(h>=5)Bi("频繁错误",'\n                <div class="alert alert-warning">\n                    <p><strong>频繁出现错误:</strong></p>\n                    <p>快跟作者反馈一下!:</p>\n                    <ul>\n                        <li>刷新页面</li>\n                        <li>检查您的输入数据</li>\n                        <li>请在几分钟后重试</li>\n                    </ul>\n                </div>\n            ',{type:"warning",size:"large",dismissible:!0,modal:!0,html:!0,buttons:[{text:"确定",class:"btn btn-primary",onClick:function(){return location.reload()},closeOnClick:!0}]});else{h++;var t=(new Date).getTime();if(!(t-f<5e3)){f=t;var n={message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error,stack:e.error?e.error.stack:"No stack trace available",timestamp:(new Date).toISOString()};Bi("发生错误",'\n              <div class="alert alert-danger">\n                  <p><strong>出错了:</strong></p>\n                  <p>'.concat(e.message,"</p>\n                  <p>文件: ").concat(e.filename,"</p>\n                  <p>行号: ").concat(e.lineno,", 列号: ").concat(e.colno,"</p>\n              </div>\n              <p>请尝试以下方法:</p>\n              <ul>\n                  <li>刷新页面</li>\n                  <li>检查您的输入数据</li>\n                  <li>请在几分钟后重试</li>\n              </ul>\n          "),{type:"error",size:"large",dismissible:!0,modal:!0,html:!0,buttons:[{text:"报告错误",class:"btn btn-danger",onClick:function(){return Bi("Report Error","好了好了我知道了!")},closeOnClick:!0}]}),Pi.showError("Error occurred:",n);var r=document.querySelector(".modal-backdrop.fade.show");return null==r||r.remove(),c()}}})),p=function(){Mousetrap.bind("space",(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&(n.timeline?n.isPaused?s():i():a())})),Mousetrap.bind(["escape","mod+s"],(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&c()})),Mousetrap.bind("mod+r",(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&u()})),Mousetrap.bind("mod+backspace",(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&l()})),Mousetrap.bind("mod+enter",(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&a()})),Mousetrap.bind(["mod+s","mod+r"],(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')})),Mousetrap.bind("mod+.",(function(e){e.preventDefault(),document.querySelector('.nav-link.active[data-bs-target="#color-visualizer"]')&&(document.querySelector(".modal-backdrop.fade.show")||ji("快捷键帮助 ⌨️","<div>可用的快捷键:<br>\n      • 空格键 (Space) - 播放/暂停切换<br>\n      • Ctrl/Cmd + Enter - 运行<br>\n      • Esc 或 Ctrl/Cmd + S - 停止<br>\n      • Ctrl/Cmd + R - 重新开始<br>\n      • Ctrl/Cmd + Backspace - 清除内容<br>\n      <br>\n提示: 在编辑文本时，快捷键会暂时禁用</div>",{type:"info",buttons:[{text:"OK",class:"btn btn-primary",onClick:function(){}}],modal:!0,dismissible:!0,html:!0}))}))},window.Mousetrap?p():Pi.showError("Mousetrap not found. Hotkeys will not work. Please install it from npm."),o(),!window.hljs){e.next=37;break}return e.next=35,Ni();case 35:e.next=38;break;case 37:Pi.showError("Highlight.js not found. Skipping code highlighting.");case 38:if(!localStorage.getItem("isNewUser"))try{ji("公告📢 - 2024/11/23 15:20",'<iframe id="myIframe" src="https://sx5w7odpp7p.feishu.cn/docx/IcuIdkFKJofwhsxfW4GcVdGSnQd" width="100%" height="600px"></iframe>',{type:"info",size:"large",buttons:[{text:"不再提示",class:"btn btn-primary",onClick:function(){localStorage.setItem("isNewUser","false")}}],html:!0,dismissible:!0}),(m=document.getElementById("myIframe"))&&(m.onload=function(){})}catch(e){console.error("显示公告时发生错误:",e),document.querySelector("#notificationModal #modalBody").innerHTML='\n<div class="card shadow-sm mb-4">\n        <div class="card-header">\n          <h2 class="modal-title" id="announcementModalLabel">欢迎wmls来玩!</h2>\n        </div>\n        <div class="modal-body">\n<h6>制作者<a\n  href="https://www.xiaohongshu.com/user/profile/5c1610720000000005018c49"\n  target="_blank">（小红书@那一转眼只剩我🥕)</a>留言：</h6>\n<p>本工具旨在帮助五月天演唱会的观众和组织者轻松生成荧光棒的控制代码，实现更加炫酷的灯光效果。通过简单的配置，你可以生成自定义的荧光棒控制代码，并在实时预览中查看基础效果。生成算法还在持续优化!本工具还在迭代!<br>感谢<a\n      href="https://www.xiaohongshu.com/user/profile/5d7e751900000000010010bd"\n      target="_blank">小红书@Diu🥕</a>大佬开发的<strong><code style="font-family: \'Lato\', sans-serif;">Mayday.Blue</code></strong>小程序!\n</p>\n\n<h6>网站功能简介：</h6>\n<ul>\n  <li><strong>生成工具🎨：</strong>提供你想做预设的音频文件,轻松配置荧光棒的颜色主题并生成 <strong><code style="font-family: \'Lato\', sans-serif;">Mayday.Blue</code></strong> 场控预设代码。</li>\n  <li><strong>实时预览👀：</strong>可以把生成的预设代码添加进来，实时展示荧光棒使用到的电脑颜色效果。</li>\n</ul>\n\n<h6>功能详细介绍：</h6>\n<ul>\n  <li>生成工具🎨：请看<strong>预设代码生成器</strong>选项卡的使用指南</li>\n  <li>实时预览👀：请看<strong>预设可视化工具</strong>选项卡的使用指南</li>\n</ul>\n\n<h6>重要细节：</h6>\n<ul>\n  <li>生成的代码可以直接复制并粘贴到你的<strong><code style="font-family: \'Lato\', sans-serif;">Mayday.Blue</code></strong>中。</li>\n  <li>支持导出和导入颜色主题配置，方便保存和分享创意。</li>\n</ul>\n        </div>\n      </div>\n  '}v=os(gi,500),os(vi,500)({query:"一颗苹果",limit:100,offset:0}).then((function(e){console.log("songs: ",e),v({id:e[0].id,type:"json",level:"standard"}).then((function(e){console.log(e)})).catch((function(e){console.error("debouncedFetchSongData - 数据请求失败",e)}))})).catch((function(e){console.error("debouncedFetchSongList - 数据请求失败",e)}));case 43:case"end":return e.stop()}var g}),e)}))))})()})();